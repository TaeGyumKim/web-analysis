/**
 * formUtil.jsp에 정의되어 있던 사항
 */

/**
 * 최초 로딩시 페이지 초기 설정
*/
function initializeHtmlPage()
{
    /* alert("[initializeHtmlPage] _fU_authLevel ->"+_fU_authLevel); */
    /* alert("[initializeHtmlPage] _fU_adminYn ->"+_fU_adminYn); */

   try{
    if(_fU_authLevel == "R" && _fU_adminYn == "Y"){
            if(document.getElementById("registeTD") != null) registeTD.style.display="none";
            if(document.getElementById("updateConfirmTD") != null) updateConfirmTD.style.display="none";
            if(document.getElementById("updateCancelTD") != null) updateCancelTD.style.display="none";
            if(document.getElementById("deleteConfirmTD") != null) deleteConfirmTD.style.display="none";
            if(document.getElementById("deleteCancelTD") != null) deleteCancelTD.style.display="none";
            if(document.getElementById("updateTD") != null) updateTD.style.display="none";
            if(document.getElementById("cancelTD") != null) cancelTD.style.display="none";
            if(document.getElementById("registeFormTD") != null) registeFormTD.style.display="none";

            if(document.getElementById("writeAuth") != null) {
                if(writeAuth.length > 1) {
                    for(var i=0 ; i < writeAuth.length ; i++) {
                        writeAuth[i].style.display="none";
                    }
                }
                else {
                    writeAuth.style.display="none";
                }
            }
        }
   }catch(e) {}

    for ( var i = 0 ; i < document.forms.length ; i++)
    {
    	if(document.forms[i].autocomplete == undefined) document.forms[i].autocomplete = "off";
        document.forms[i].initialize = initializeHtmlForm;
        document.forms[i].initialize();
    }
}

/**
 *  특정폼을 Initalize 시키는 함수
 */
function formInitalizer(frm) {
    frm.initialize = initializeHtmlForm;
    frm.initialize();
}

/**********************
*  sider FrameWork의 form submit 함수
* @return :
* @see
************************/
function formSubmitValidation()
{
    /* 이중 서브밑 방지  */
    if(this.submitstat != "false")
    {
        i18nExtAlert(_fU_i18n_FRA00012);        /* 이미 submit 되었습니다. */
        return;
    }
    else
    {
        this.submitstat = "validating";
        /* 기본 밸리데이션 체크 함수 호출 */
        
        var url = this.action;
        var isCert = false;
        try{isCert = url.indexOf("P.web") == -1 ? false:true;}catch(e){}
        if(initExtValidationCheck(this, isCert))
        {
            this.submitstat = "true";

            var tokenValue = "";

            if(_fU_tokenValue != ""){
                tokenValue = _fU_tokenValue;
            }

            if(tokenValue != "")
            {
                /* var spiderSubmitState = document.createElement('<INPUT TYPE="HIDDEN" NAME="+_fU_tokenKey+" VALUE="'+tokenValue+'">'); */
                var spiderSubmitState = document.createElement('INPUT');
                spiderSubmitState.setAttribute('TYPE','HIDDEN',0);
                spiderSubmitState.setAttribute('NAME',_fU_tokenKey,0);
                spiderSubmitState.setAttribute('VALUE',tokenValue,0);

                this.appendChild(spiderSubmitState);
            }
            // 프로세스바는 무조건 모달로 띄우도록 한다..
            if(this.process == "true") {
            	openProcessLayer(_fU_localeCode , "Y", "Y");
            }else if(this.modalProcess == "true") {
            	openProcessLayer(_fU_localeCode , "Y", "Y");
            }else{
            	if(this.process != "false"){
            		openProcessLayer(_fU_localeCode , "Y", "Y");
            	}                 
            }
            this.submit();
        }
        else
        {
            this.submitstat = "false";
            return;
        }
    }
}



/**********************
* <pre>
* 조회기간 체크
* <br> ex : validateSearchPeriodDate("20060613","20060714",3)
* </pre>
* @param : 조회 시작일(yyyymmdd)
* @param : 기준 일(yyyymmdd)
* @param : 조회 기간(int)
* @return : boolean
* @see
************************/
function validateSearchPeriodDate(startDate, nowDate , period)
{
    if(startDate.length > 8)
    {
        i18nExtAlert(_fU_i18n_FRA00003);            /* 조회일이 잘못되었습니다. */
        return false;
    }

    var startYY =  parseInt(startDate.substring(0,4),10);
    var endYY =  parseInt(nowDate.substring(0,4),10);
    var startMM =  parseInt(startDate.substring(4,6),10);
    var endMM =  parseInt(nowDate.substring(4,6),10);
    var startDD =  parseInt(startDate.substring(6),10);
    var endDD =  parseInt(nowDate.substring(6),10);
    var dd = endDD - startDD;

    var startToEnd = ( ( endYY - startYY ) * 12) + endMM - startMM;
    if( startToEnd > parseInt(period,10) )
    {
        i18nExtAlert(_fU_i18n_FRA00036+" "+period+_fU_i18n_FRA00037);        /* 조회기간은 현재월 기준으로 \"+period+\"개월 이전까지만 조회 가능합니다. */
        return false;
    } else if(startToEnd == parseInt(period,10)) {
        if(dd >= 0) {
            i18nExtAlert(_fU_i18n_FRA00036+" "+period+_fU_i18n_FRA00037);    /* 조회기간은 현재월 기준으로 \"+period+\"개월 이전까지만 조회 가능합니다. */
            return false;
        }
    }

    return true;
}

/**********************
* <pre>
* validation check 함수 (ExtJs용)
* </pre>
* @param : validation 검사를 할 폼.
* @return : boolean
* @see
************************/
function initExtValidationCheck(checkForm)
{
	return initExtValidationCheck(checkForm, false);
}        	

/**********************
* <pre>
* validation check 함수 (ExtJs용)
* </pre>
* @param : validation 검사를 할 폼.
* @return : boolean
* @see
************************/
function initExtValidationCheck(checkForm, isCert)
{
    /* var thisId = ""; */
    /* var thisName = ""; */
    for (var i = 0 ; i < checkForm.elements.length ; i++)
    {
        /*
        	thisId = checkForm.elements[i].id;
        	thisName = checkForm.elements[i].name;
        	alert("maskform -> "+document.getElementsByName(thisName)[0].getAttribute('maskform')+", attribute : "+checkForm.elements[i].getAttribute("maskform"));
         */

        /* mask한 값에서 마스크 값 삭제 */
        if ( ( checkForm.elements[i].getAttribute("maskform") != null
                && checkForm.elements[i].getAttribute("maskform") != undefined
                && checkForm.elements[i].getAttribute("maskform") != "")
            || checkForm.elements[i].getAttribute("chartype") =="money"
            || checkForm.elements[i].getAttribute("chartype") =="floatmoney")
        {
            if(checkForm.elements[i].getAttribute("maskform") == "usermask")
            {
                checkForm.elements[i].value = unMaskEngNum(checkForm.elements[i].value);/* 사용자 마스크 지우기 로직. */
            } else if(checkForm.elements[i].getAttribute("chartype") =="floatmoney") {
                checkForm.elements[i].value = getOnlyFloatNumberFormat(checkForm.elements[i].value);
            } else {
                checkForm.elements[i].value = getOnlyNumberFormat(checkForm.elements[i].value);
            }
        }

        /* input 타입 */
        /* if (checkForm.elements[i].tagName.toString().toLowerCase() == "input" ) */
        if (checkForm.elements[i].nodeName.toString().toLowerCase() == "input")
        {
        	try
        	{
        		if(isCert)
    			{      
        			if(checkForm.elements[i].name=='VLMM')
            			checkForm.elements[i].setAttribute("nullable", null);
            		else if(checkForm.elements[i].name=='VLYY')
            			checkForm.elements[i].setAttribute("nullable", null);
            		else if(checkForm.elements[i].name=='CVV_VDT_V')
            			checkForm.elements[i].setAttribute("nullable", null);
            		else if(checkForm.elements[i].name=='CD_PSWD')  
            			checkForm.elements[i].setAttribute("nullable", null);
    			}
        	}
        	catch(e)
        	{
        		//안정화 후 제거
        	}

            /* 필수 값 체크 */
            if (checkForm.elements[i].getAttribute("nullable") == "false")
            {
            /* alert("title -> "+checkForm.elements[i].getAttribute("title")); */
                if(checkForm.elements[i].type.toString().toLowerCase() == "text" || checkForm.elements[i].type.toString().toLowerCase() == "password")
                {
                    if( checkForm.elements[i].value == "" )
                    {
                        if(checkForm.elements[i].getAttribute("title") != null && checkForm.elements[i].getAttribute("title") != undefined &&
                            checkForm.elements[i].getAttribute("title") != "") {
                            /*  _fU_i18n_FRA00033 : 필수체크 */
                            /*  _fU_i18n_FRA00010 : 필수입력 사항입니다. */
                            i18nExtAlert( "[" + checkForm.elements[i].getAttribute("title")  + "] " + _fU_i18n_FRA00010 , _fU_i18n_FRA00033, null, _fU_localeCode ,checkForm.elements[i]);  /* alert 메세지 함수 호출 */
                        }else{
                            i18nExtAlert( _fU_i18n_FRA00010,  _fU_i18n_FRA00033,null, _fU_localeCode , checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }

                        if ( !checkForm.elements[i].className != "" )
                        {
                            checkForm.elements[i].className = "frameworkNullable";
                        } else
                        {
                            checkForm.elements[i].className = checkForm.elements[i].className + " " + "frameworkNullable";
                        }

                        checkForm.elements[i].focus();
                        return false;
                    } else /* 한번 validation에서 css설정이 되었을경우 빼야 하기 때문에. */
                    {
                        /* var classArr = checkForm.elements[i].getAttribute("className").split(" "); */
                        var classArr = checkForm.elements[i].className.split(" ");
                        checkForm.elements[i].className = removeCss(classArr,"frameworkNullable");

                    }

                }
                else if(checkForm.elements[i].type.toString().toLowerCase() == "checkbox" || checkForm.elements[i].type.toString().toLowerCase() == "radio")
                {
                    var checkState = false;
                    var elementArray = eval("checkForm."+checkForm.elements[i].name);

                    for(var ct = 0 ; ct < elementArray.length ; ct++)
                    {
                        if(elementArray[ct].checked == true)
                        {
                            checkState = true;
                            break;
                        }
                    }
                    /*  _fU_i18n_FRA00033 : 필수체크 */
                    /*  _fU_i18n_FRA00010 : 필수입력 사항입니다. */
                    if (checkState == false)
                    {
                        if(checkForm.elements[i].getAttribute("title") != null && checkForm.elements[i].getAttribute("title") != undefined &&
                            checkForm.elements[i].getAttribute("title") != "") {
                            i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + _fU_i18n_FRA00010, _fU_i18n_FRA00033, null, _fU_localeCode ,checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }else{
                            i18nExtAlert(_fU_i18n_FRA00033,_fU_i18n_FRA00010, null, _fU_localeCode ,checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }
                        /* checkForm.elements[i].focus(); */
                        return false;
                    }
                }
            }

            if( checkForm.elements[i].value != "")
            {
                /* 최대값 체크 */
                if (checkForm.elements[i].getAttribute("maximum") != null && checkForm.elements[i].getAttribute("maximum")  != undefined && checkForm.elements[i].getAttribute("maximum") != "")
                {
                    if ( !validationMaximum(checkForm.elements[i].getAttribute("maximum")  , checkForm.elements[i].value) )
                    {
                        var errMsg = _fU_i18n_FRA00025;    /* 입력값을  % 사이로 입력해 주시기 바랍니다. */
                        if(checkForm.elements[i].getAttribute("minimum") != null && checkForm.elements[i].getAttribute("minimum") != undefined && checkForm.elements[i].getAttribute("minimum") != "") {
                        /* minimum까지 설정되어 있으면.. */
                        	//min, max 의 값이 동일하면  범위없이 값만 찍어준다
                        	if(checkForm.elements[i].getAttribute("minimum") == checkForm.elements[i].getAttribute("maximum")){
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("maximum"));
                        	}else{
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minimum")+" ~ "+checkForm.elements[i].getAttribute("maximum"));
                        	}
                        }else{
                        /* maximum만 설정되어 있으면.. */
                            errMsg = errMsg.replace("%"," ~ "+checkForm.elements[i].getAttribute("maximum"));
                        }

                        /* _fU_i18n_FRA00027 : 최대값 체크 */
                        if(checkForm.elements[i].getAttribute("title") != null && checkForm.elements[i].getAttribute("title") != undefined &&
                            checkForm.elements[i].getAttribute("title") != "") {
                            i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + errMsg , _fU_i18n_FRA00027, null, _fU_localeCode , checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }else{
                            i18nExtAlert(errMsg , _fU_i18n_FRA00027, null, _fU_localeCode , checkForm.elements[i]);
                        }
                        /* checkForm.elements[i].select(); */
                        return false;
                    }
                }


                /* 최소값 체크 */
                if ( checkForm.elements[i].getAttribute("minimum") != null && checkForm.elements[i].getAttribute("minimum") != undefined && checkForm.elements[i].getAttribute("minimum") != "")
                {
                    if ( !validationMinimum(checkForm.elements[i].getAttribute("minimum")  , checkForm.elements[i].value) )
                    {
                        var errMsg = _fU_i18n_FRA00025;
                        if(checkForm.elements[i].getAttribute("maximum") != null && checkForm.elements[i].getAttribute("maximum") != undefined && checkForm.elements[i].getAttribute("maximum") != "") {
                        /* maximum까지 설정되어 있으면.. */
                        	//min, max 의 값이 동일하면  범위없이 값만 찍어준다
                        	if(checkForm.elements[i].getAttribute("minimum") == checkForm.elements[i].getAttribute("maximum")){
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minimum"));
                        	}else{
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minimum")+" ~ "+checkForm.elements[i].getAttribute("maximum"));
                        	}
                        }else{
                        /* minimum만 설정되어 있으면.. */
                            errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minimum")+" ~ ");
                        }

                        /* _fU_i18n_FRA00028 : 최소값 체크 */
                        if(checkForm.elements[i].getAttribute("title") != undefined && checkForm.elements[i].getAttribute("title") != "") {
                            i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + errMsg , _fU_i18n_FRA00028, null, _fU_localeCode ,checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }else{
                            i18nExtAlert(errMsg , _fU_i18n_FRA00028, null, _fU_localeCode ,checkForm.elements[i]);
                        }
                        /* checkForm.elements[i].select(); */
                        return false;
                    }
                }

				/* alert("maxbyte -> "+checkForm.elements[i].getAttribute("maxbyte")+", minbyte ->"+checkForm.elements[i].getAttribute("minbyte")); */
                /* 최대 바이트 체크 */
                if ( checkForm.elements[i].getAttribute("maxbyte") != null &&  checkForm.elements[i].getAttribute("maxbyte") != undefined && checkForm.elements[i].getAttribute("maxbyte") != "")
                {
                    if ( !validationMaxByte(checkForm.elements[i].value , checkForm.elements[i].getAttribute("maxbyte")) )
                    {
                        /*  _fU_i18n_FRA00026 : 입력을 % 자리로 해주십시오. */
                        var errMsg = _fU_i18n_FRA00026+"(BYTE)";
                        if(checkForm.elements[i].getAttribute("minbyte") != null && checkForm.elements[i].getAttribute("minbyte") != undefined && checkForm.elements[i].getAttribute("minbyte") != "") {
                        /* minbyte까지 설정되어 있으면.. */
                        	//min, max 의 값이 동일하면  범위없이 값만 찍어준다
                        	if(checkForm.elements[i].getAttribute("minbyte") == checkForm.elements[i].getAttribute("maxbyte")){
                        		errMsg = errMsg.replace("%", checkForm.elements[i].getAttribute("maxbyte"));
                        	}else{
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minbyte")+" ~ "+checkForm.elements[i].getAttribute("maxbyte"));
                        	}
                        }else{
                        /* maxbyte만 설정되어 있으면.. */
                            errMsg = errMsg.replace("%"," ~ "+checkForm.elements[i].getAttribute("maxbyte"));
                        }

                        /*  _fU_i18n_FRA00029 : 최대 바이트 체크 */
                        var kor_cnt = Math.floor(checkForm.elements[i].getAttribute("maxbyte")/2);
                        if(checkForm.elements[i].getAttribute("title") != undefined && checkForm.elements[i].getAttribute("title") != "") {
                            /* i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + errMsg);/* alert 메세지 함수 호출 */
                            i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + errMsg , _fU_i18n_FRA00029, null, _fU_localeCode ,checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }else{
                            /* i18nExtAlert(errMsg); */
                            i18nExtAlert(errMsg ,  _fU_i18n_FRA00029, null, _fU_localeCode ,checkForm.elements[i]);
                        }
                        /* checkForm.elements[i].select(); */
                        return false;
                    }
                }

                /* 최소 바이트 체크 */
                if(checkForm.elements[i].getAttribute("minbyte") != undefined && checkForm.elements[i].getAttribute("minbyte") !="")
                {
                    if(checkForm.elements[i].value.length == 0 || (!validationMinByte(checkForm.elements[i].value, checkForm.elements[i].getAttribute("minbyte"))) )
                    {
                        var errMsg = _fU_i18n_FRA00026+"(BYTE)";
                        if(checkForm.elements[i].getAttribute("maxbyte") != undefined && checkForm.elements[i].getAttribute("maxbyte") != "") {
                        /* maxbyte까지 설정되어 있으면.. */
                        	//min, max 의 값이 동일하면  범위없이 값만 찍어준다
                        	if(checkForm.elements[i].getAttribute("minbyte") == checkForm.elements[i].getAttribute("maxbyte")){
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minbyte"));
                        	}else{
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minbyte")+" ~ "+checkForm.elements[i].getAttribute("maxbyte"));
                        	}
                        }else{
                        /* minbyte만 설정되어 있으면.. */
                            errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minbyte")+" ~ ");
                        }

                        var kor_cnt = Math.floor(checkForm.elements[i].getAttribute("minbyte")/2);
                        /*  _fU_i18n_FRA00030 : 최소 바이트 체크 */
                        if(checkForm.elements[i].getAttribute("title") != undefined) {
                            i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + errMsg , _fU_i18n_FRA00030, null, _fU_localeCode ,checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }else{
                            i18nExtAlert(errMsg , _fU_i18n_FRA00030, null, _fU_localeCode ,checkForm.elements[i]);
                        }
                        /* checkForm.elements[i].select(); */
                        return false;

                    }
                }

				/* alert("minlength -> "+checkForm.elements[i].getAttribute("minlength")+", maxlength ->"+checkForm.elements[i].getAttribute("maxlength")); */
                /* 최소 길이 체크 */
                if(checkForm.elements[i].getAttribute("minlength") != null && checkForm.elements[i].getAttribute("minlength") != undefined && checkForm.elements[i].getAttribute("minlength") != "")
                {
                    if(checkForm.elements[i].value.length < checkForm.elements[i].getAttribute("minlength")) {
                        var errMsg = _fU_i18n_FRA00026+"(LENGTH)";
                        if(checkForm.elements[i].getAttribute("maxlength") != null && checkForm.elements[i].getAttribute("maxlength") != undefined && checkForm.elements[i].getAttribute("maxlength") != "" && checkForm.elements[i].getAttribute("maxlength") != "2147483647") {
                        /* maxLength까지 설정되어 있으면.. */
                        	//min, max 의 값이 동일하면  범위없이 값만 찍어준다
                        	if(checkForm.elements[i].getAttribute("minlength") == checkForm.elements[i].getAttribute("maxlength")){
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minlength"));
                        	}else{
                        		errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minlength")+" ~ "+checkForm.elements[i].getAttribute("maxlength"));
                        	}

                        }else{
                        /* minlength만  설정되어 있으면.. */
                            errMsg = errMsg.replace("%",checkForm.elements[i].getAttribute("minlength")+" ~ ");
                        }
                        /*  _fU_i18n_FRA00031 : 최소 길이 체크 */
                        if(checkForm.elements[i].getAttribute("title")  != null && checkForm.elements[i].getAttribute("title") != undefined &&
                            checkForm.elements[i].getAttribute("title") != "") {
                            i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + errMsg , _fU_i18n_FRA00031, null, _fU_localeCode , checkForm.elements[i]);/* alert 메세지 함수 호출 */
                        }else{
                            i18nExtAlert(errMsg , _fU_i18n_FRA00031, null, _fU_localeCode , checkForm.elements[i]);
                        }
                        /* checkForm.elements[i].select(); */
                        spider.extJS.loadingLayer.close();
                        return false;
                    }
                }
                
                /* 특정값 제거  
                var tempValue = checkForm.elements[i].value;
                if (tempValue.indexOf('yahoo.co.kr') != -1 || tempValue.indexOf('YAHOO.CO.KR') != -1)
                {
                	if(checkForm.elements[i].id != "OLD_EMAIL"){
                		i18nExtAlert("2013년 1월 1일부터'yahoo.co.kr'주소는 사용 불가합니다.<br/>다른 이메일 주소를 입력하여주시기 바랍니다." , _fU_i18n_FRA00027, null, _fU_localeCode , checkForm.elements[i]);
                    	return false;	
                	}
                } */
            }

        /* select 타입이 필수일때 */
        } else if (    checkForm.elements[i].nodeName.toString().toLowerCase() == "select" )
        {
            if(checkForm.elements[i].disabled==true) checkForm.elements[i].disabled = false;
            if(checkForm.elements[i].getAttribute("nullable") == "false" && checkForm.elements[i].value == "")
            {
                /*  _fU_i18n_FRA00033 : 필수체크 */
                /*  _fU_i18n_FRA00010 : 필수입력 사항입니다. */
                if(checkForm.elements[i].getAttribute("title") != null && checkForm.elements[i].getAttribute("title") != undefined &&
                    checkForm.elements[i].getAttribute("title") != "") {
                    i18nExtAlert("[" + checkForm.elements[i].getAttribute("title")  + "] " + _fU_i18n_FRA00010 ,_fU_i18n_FRA00033, null, _fU_localeCode , checkForm.elements[i]);/* alert 메세지 함수 호출 */
                }else{
                    i18nExtAlert(_fU_i18n_FRA00010 ,_fU_i18n_FRA00033, null, _fU_localeCode , checkForm.elements[i]);/* alert 메세지 함수 호출 */
                }
                /* checkForm.elements[i].focus(); */
                return false;
            }
        }
    }/* for문 끝 */

    return true;
}


  /**
   * ############   기존 formValidation.js에 있던 사항 ###################
   */

  /**
   * 이벤트 체크
   * Firefox와 IE간 호환을 위함
   */
  function checkEvent(event) {
    if (!event) { /* IE일 경우 */
      event = window.event;
      event.target = event.srcElement;
      event.which = event.keyCode;
    }
    return event;
  }

/**********************

* 다국어 alert() 메세지를 출력
* ex : i18nAlert('I18NUtil.getLabel(localeCode, "IBA00001","개별1회이체한도금액이 초과하였습니다.")') (스크립틀릿임.)

* @param : 다국어 메세지
* @return : alert(msg) 메세지
* @see
************************/
function i18nAlert(msg){
    var alertElem = document.createElement("<span>");
    alertElem.innerHTML = msg;
    alert(alertElem.outerText);
}




/**********************
* 다국어 confirm() 메세지를 출력
* ex : i18nConfirm('I18NUtil.getLabel(localeCode, "COA00001","수정하시겠습니까?")') (스크립틀릿임.)
* @param : 다국어 메세지
* @return : alert(msg) 메세지
* @see
************************/
function i18nConfirm(msg){
    var confirmElem = document.createElement("<span>");
    confirmElem.innerHTML = msg;
    return confirm(confirmElem.outerText);
}

/* ----------------------------------- 페이지 initialize 관련 함수 시작 ------------------------------------------------ */

/**
 * html 페이지 로딩후 최초 실행하는 스크립트.
 */
initializeHtmlPage();



/**********************
* 호출된 폼마다 셋팅하기.
* initialize시 셋팅하는 정보 : 필수 요소(css),mask,letter type
* @param :
* @return :
* @see
************************/
function initializeHtmlForm()
{
    /* spiderSubmit 할당 */
    this.spiderSubmit = formSubmitValidation;
    this.submitstat = "false";

    for (var i = 0 ; i < this.elements.length ; i++)
    {
        if (this.elements[i].nodeName.toString().toLowerCase() == "input")
        {
            /* mask가 있을경우 #은 값을 의미함. */
            if (this.elements[i].getAttribute("maskform") != null && this.elements[i].getAttribute("maskform") != undefined && this.elements[i].getAttribute("maskform") != "")
            {
                if(this.elements[i].getAttribute("maskform") != "usermask")
                    initSetMaskUp(this.elements[i]);/* mask 타입(ex : ####/##/## , ####-##-## , ######-####### , ###-##-##### , ...) */
            }

            /* 문자 타입이 있을경우 */
            if (this.elements[i].getAttribute("chartype") != null &&  this.elements[i].getAttribute("chartype")  != undefined)
            {
                initSetLetterType(this.elements[i]);/* 문자 셋(english,korean,english+number, number, floatmoney,int)타입 */
            }

            /* 속성이 있을경우 */
            if (this.elements[i].getAttribute("disables") != null &&   this.elements[i].getAttribute("disables")  != undefined)
            {
                initSetAttribute(this.elements[i]);
            }

            /* maxlength가 있을경우 */
            if (this.elements[i].getAttribute("maxlength") != null &&  this.elements[i].getAttribute("maxlength") !=  undefined )
            {
                initSetMaxLength(this.elements[i]);
            }

            /* maxByte가 있을경우 */
            if ( this.elements[i].getAttribute("maxbyte") != null &&  this.elements[i].getAttribute("maxbyte")  != undefined)
            {
                initSetMaxLength(this.elements[i]);
            }

            /* uppercase가  있을 경우 */
            if (this.elements[i].getAttribute("uppercase")  != undefined){
                    initSetUpperLower(this.elements[i])
            }

            /* lowercase가  있을 경우 */
            if (this.elements[i].getAttribute("lowercase")  != undefined){
                    initSetUpperLower(this.elements[i])
            }

            /* 입력 모드 설정이  있을 경우 */
            if (this.elements[i].getAttribute("imemode") != null && this.elements[i].getAttribute("imemode") != undefined){
                    initImeMode(this.elements[i])
            }

        }/* end if */
    }/* end for - elements */
}

/**********************

* ImeMode 설정.
* @param : elem
* @return : void
* @see
************************/
function initImeMode(elem) {
    if(elem.imemode == "kor") {
        elem.style.imeMode = "active";
    }else if(elem.imemode == "eng") {
        elem.style.imeMode = "inactive";
    }else{
        elem.style.imeMode = "auto";
    }
}

/**********************
* uppercase, lowercase 설정시 keyPress시 이벤트 발생.
* @param : elem
* @return : void
* @see
************************/
function initSetUpperLower(elem) {
    if(elem.onkeypress == undefined){
        elem.onkeypress = setUpperLowerCase;
    }
}

/**********************
* input 테그에 uppercase, lowercase 속성이 있을경우 발생
* @param :
* @return : void
* @see
************************/
function setUpperLowerCase(event) {
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    if( event.target.uppercase != undefined) {
        if(event.which >= 97 && event.which <= 122){
            event.target.value = (event.target.value + pKey).toUpperCase();
            event.returnValue=false;
        }
    }

    if( event.target.lowercase != undefined) {
        if(event.which >= 65 && event.which <= 90){
            event.target.value = (event.target.value+pKey).toLowerCase();
            event.returnValue=false;
        }
    }
}


/**********************
* maxLength, maxbyte 설정시 keyUp시 이벤트 발생.
* @param : elem
* @return : void
* @see
************************/
function initSetMaxLength(elem) {
    if((elem.maxLength != undefined && elem.maxLength > 0 && elem.maxLength != 2147483647) && elem.chartype != undefined &&
        (elem.chartype == "kor" || elem.chartype == "kornum" || elem.chartype == "koreng" || elem.chartype == "korengnum") ) {
        elem.maxLength = elem.maxLength +1;
    }
/* 20130228 장차법
    if(elem.onkeyup == undefined){
        elem.onkeyup = setOverSetFocus;
    }
*/
}

/**********************
* maxLength, maxbyte 설정시 최대값보다 더 들어왔을시 자동 포커스 이동.
*  ex : setOverSetFocus()
* @param :
* @return :
* @see
************************/
function setOverSetFocus() {
    /* this 개체가 속한  폼이름 가져오기 */
    var thisFrm = "";

    thisFrm = eval(this.parentNode);

    while("form" != thisFrm.nodeName.toString().toLowerCase())
    {
        thisFrm = eval(thisFrm.parentNode);
    }

    var nextFocus = this;
    /* 다음 포커스 타겟 가져오기. */
    for (var i = 0 ; i < thisFrm.elements.length ; i++)
    {
/*         if (this.elements[i].nodeName.toString().toLowerCase() == "input") */
        if (thisFrm.elements[i].nodeName.toString().toLowerCase() == "input")
        {
            /* 현재 this값이 선택된 elements이면 다음으로 이동될 포커스를 가져오기 위한 로직수행. */
            if(this == thisFrm.elements[i])
            {
            /* alert("kk -> "+thisFrm.elements[i].getAttribute("nextfocus") ); */
            /* alert("kk -> "+document.getElementById(this.id).getAttribute("nextfocus")); */
                if(thisFrm.elements[i].getAttribute("nextfocus") != null && thisFrm.elements[i].getAttribute("nextfocus") != undefined && thisFrm[thisFrm.elements[i].getAttribute("nextfocus")] != undefined) {
                    /* nextfocus 속성이 있을경우 nextfocus값을 다음 포커스로 잡는다. */
                    nextFocus = thisFrm[thisFrm.elements[i].getAttribute("nextfocus")];
                    /* if(nextFocus.length != undefined) nextFocus = nextFocus[0];  nexttarget이 select일경우 option이 된다. */
                    break;
                }
                /* elements가 undefined 될때 까지 수행함. */
                while(thisFrm.elements[++i] != undefined)
                {
                    /* 현재 elements의 부모중의 속성이 display = none이면 다음 포커스 타겟을 가져온다. */
                    var targetCursor = eval(thisFrm.elements[i].parentNode);
                    while("form" != targetCursor.nodeName.toString().toLowerCase())    {
                        if(targetCursor.parentNode.style.display == "none") break;
                        targetCursor = eval(targetCursor.parentNode);

                    }
                    if(targetCursor.parentNode.style.display == "none") continue;

                    /* elements타입이 input (text,radio,checkbox), textarea, select 일경우 다음 포커스 this저장. */
                    if(thisFrm.elements[i].nodeName.toString().toLowerCase() == "input" &&
                        (thisFrm.elements[i].type == "text" || thisFrm.elements[i].type == "password" ||
                            thisFrm.elements[i].type == "radio" || thisFrm.elements[i].type == "checkbox" ||
                                thisFrm.elements[i].nodeName.toString().toLowerCase() == "textarea" ||
                                    thisFrm.elements[i].nodeName.toString().toLowerCase() == "select" ))
                    {
                        nextFocus = thisFrm.elements[i];
                        break;
                    }
                }
            }
        }
    }

    /* 포커스 이동. maxLength 2147483647은 maxLength의 값을 주지 않았을경우 기본적으로 주는 최대값. */
    if(this.maxbyte != undefined && this.maxLength != 2147483647) {
    /* 1. maxbyte와 maxLength를 둘다 선택 하였을때.. */
        if((this.maxLength <= this.value.length) || (this.maxbyte < calculate_msglen(this.value)))
        {
            this.blur();
            if(nextFocus.nodeName.toString().toLowerCase() == "select") {
            	try{
            		nextFocus.focus();
            	}catch(e){}
            }else if(nextFocus.nodeName.toString().toLowerCase() == "input" && (nextFocus.type == "checkbox" || nextFocus.type == "radio")) {
            	try{
            		nextFocus.focus();
            	}catch(e){}
            }else {
            	try{
            		nextFocus.select();
            	}catch(e){}
            }
            this.value = cutStringToByte(this.value, this.maxbyte);

            var thisChartype = this.chartype;
            if(thisChartype != undefined &&
                (thisChartype == "kor" || thisChartype == "kornum" || thisChartype == "koreng" || thisChartype == "korengnum"))
                /* this.maxLength = this.maxLength-1; */
                this.value = this.value.substring(0, this.maxLength-1);
        }
    }else if(this.maxbyte == undefined && this.maxLength != 2147483647) {
    /* 2. maxLength만 설정했을때.. */
        if( (this.maxLength) <= this.value.length)
        {
            this.blur();
            if(nextFocus.nodeName.toString().toLowerCase() == "select") {
            	try{
            		nextFocus.focus();
            	}catch(e){}
            }else if(nextFocus.nodeName.toString().toLowerCase() == "input" && (nextFocus.type == "checkbox" || nextFocus.type == "radio")) {
            	try{
                    	nextFocus.focus();
                	}catch(e){}
            }else {
                try{
                    	this.blur();
                    	nextFocus.select();
                	}catch(e){}
            }
            var thisChartype = this.chartype;
            if(thisChartype != undefined &&
                (thisChartype == "kor" || thisChartype == "kornum" || thisChartype == "koreng" || thisChartype == "korengnum"))
                /* this.maxLength = this.maxLength-1; */
                this.value = this.value.substring(0, this.maxLength-1);
        }
    }else if(this.maxbyte != undefined && this.maxLength == 2147483647) {
    /* 3. maxByte만 설정했을때.. */
        if(this.maxbyte < calculate_msglen(this.value) )
        {
            this.blur();
            if(nextFocus.nodeName.toString().toLowerCase() == "select") {
                nextFocus.focus();
            }else if(nextFocus.nodeName.toString().toLowerCase() == "input" && (nextFocus.type == "checkbox" || nextFocus.type == "radio")) {
                nextFocus.focus();
            }else {
                nextFocus.select();
            }
        this.value = cutStringToByte(this.value, this.maxbyte);
        }
    }
}


/**********************
* 문자열을 Byte길이로 잘라옴.
*  ex : cutStringToByte(form1.name.value, bytelength)
* @param : 바이트 길이로 자를 문자열
* @return : 바이트 길이
* @see
************************/
function cutStringToByte(strValue,cutByte)
{
    var sumLength = 0;
    var resultStr = "";
    for(var i= 0;i < strValue.length; i++)
    {
        if( escape(strValue.charAt(i)).length > 3 ) { strLength = 2; }
            else if (strValue.charAt(i) == '<' || strValue.charAt(i) == '>') { strLength = 4; }
            else { strLength = 1 ; }
        if ( cutByte < (sumLength + strLength) ) { break; }
            sumLength += strLength;
            resultStr += strValue.charAt(i);
    }
    return resultStr;
}


/**********************
* 속성에 따른 input창 상태 셋팅.
*  ex : initSetAttribute(form1.name)
* @param : 이벤트를 셋팅할 element
* @return : void
* @see
************************/
function initSetAttribute(elem)
{
    if (elem.disables  == "true")
    {
        elem.disabled = true;
        /* elem.className = "frameworkDisabled"; */
        elem.style.backgroundColor = "#cccccc";
    }
}


/**********************
* 숫자열 마스크 씌우기
*  ex : initSetMaskUp(form1.name)
* @param : 마스크를 셋팅할 element
* @return : void
* @see
************************/
function initSetMaskUp(elem)
{
    elem.onkeypress = setKeyInputNumberOnly;
    if(elem.onfocus == undefined) elem.onfocus = filterGetNumberOnly;
    if(elem.onblur == undefined) elem.onblur = setInitMaskUp;
}

/**********************
* 주민 번호 onkeyup이벤트시 마스크 씌우기
*  ex : psnMaskup(form1.name)
* @param : 마스크를 셋팅할 element
* @return : void
* @see
************************/
function psnMaskup(elem)
{
    var data = getOnlyNumberFormat(elem.value);

    if(data.length <= 3)
    {
        return;
    }else if (data.length > 6 && data.length <= 13)
    {
        elem.value = data.substr(0,6) + "-" + data.substring(6);
    } else if(data.length > 13) {
        elem.value = data.substr(0,6) + "-" + data.substr(6,7);
    }
}

/**********************
* 사업자 번호 onkeyup이벤트시 마스크 씌우기
*  ex : psnMaskup(form1.name)
* @param : 마스크를 셋팅할 element
* @return : void
* @see
************************/
function crnMaskup(elem)
{
    var data = getOnlyNumberFormat(elem.value);

    if(data.length <= 3)
    {
        return;
    } else if(data.length > 3 && data.length <= 5)
    {
        elem.value = data.substr(0,3) + "-" + data.substring(3);
    }else if (data.length > 5 && data.length <= 10)
    {
        elem.value = data.substr(0,3) + "-" + data.substr(3,2) + "-" + data.substring(5);
    }else if(data.length > 10) {
        elem.value = data.substr(0,3) + "-" + data.substr(3,2) + "-" + data.substr(5,5);
    }
}

/**********************
* 주민 사업자 번호 onkeyup이벤트시 마스크 씌우기
*  ex : psnCrnMaskup(form1.name)
* @param : 마스크를 셋팅할 element
* @return : void
* @see
************************/
function psnCrnMaskup(elem)
{
    var data = getOnlyNumberFormat(elem.value);

    if(data.length <= 3)
    {
        return;
    }
    else if(data.length > 3 && data.length <= 5)
    {
        elem.value = data.substr(0,3) + "-" + data.substring(3);
    }else if (data.length > 5 && data.length <= 10)
    {
        elem.value = data.substr(0,3) + "-" + data.substr(3,2) + "-" + data.substring(5);
    } else if (data.length > 10 && data.length <= 13)
    {
        elem.value = data.substr(0,6) + "-" + data.substring(6);
    } else if(data.length > 13) {
        elem.value = data.substr(0,6) + "-" + data.substr(6,7);
    }
}


/**********************
* 페이지 초기화시에 onfocus 이벤트에 할당되면 이 Elemnent에 숫자외의 문자("," , "/" , "-")는 focus시에 제거됨
* @param :
* @return : void
* @see
************************/
function filterGetNumberOnly()
{
    this.value = getOnlyNumberFormat(this.value);
    this.select();
}



/**********************
* 문자열에서 숫자만 빼오기 체크 로직
* ex : getOnlyNumberFormat(form1.name.value)
* @param : 변환할 String 값
* @return : void
* @see
************************/
function getOnlyNumberFormat(sv)
{
    if(sv == null) return;
    var temp="";
    var ret = "";

    for(var index = 0 ; index < sv.length ; index++)
    {
        temp = parseInt(sv.charAt(index), 10);
        if( temp >= 0 || temp <= 9)
        {
            ret +=temp;
        }
    }
    return ret;

}

/**********************
* 문자열에서 숫자,'-','.' 만 빼오기 체크 로직
* ex : getOnlyNumberFormat(form1.name.value)
* @param : 변환할 String 값
* @return : void
* @see
************************/
function getOnlyFloatNumberFormat(sv)
{
    if(sv == null) return;
    var temp="";
    var ret = "";

    for(var index = 0 ; index < sv.length ; index++)
    {
        if(sv.charAt(index) == '-' || sv.charAt(index) == '.') {
            ret += sv.charAt(index);
            continue;
        }

        temp = parseInt(sv.charAt(index), 10);
        if( temp >= 0 || temp <= 9)
        {
            ret += temp;
        }
    }
    return ret;

}

/**********************
* 페이지 초기화시에 마스크 설정값대로 변환하기
* @param :
* @return : void
* @see
************************/
function setInitMaskUp()
{
    /* var mask = this.maskform; */
    var mask = document.getElementsByName(this.name)[0].getAttribute('maskform');

    if(this.value == "")
        return;

    var inputV = getOnlyNumberFormat(this.value);

    for ( var i = 0 ; i < mask.length ; i++)
    {
        if ( mask.substring(i,i+1) != "#" )
            inputV = inputV.substring(0,i) + mask.substring(i,i+1) + inputV.substring(i);
    }

    this.value = inputV;
}


/**********************
* 페이지 초기화시 숫자만 입력받기
* @param :
* @return : void
* @see
************************/
function setKeyInputNumberOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */

    if(event.shiftKey == true) event.returnValue = false;

    if ( event.which < 48 || event.which > 57 )/* 숫자 키코드값 */
    {
        /*  enter, tab, backspace 방향키(앞,뒤)는 예외처리 */
        if(event.which == 8 || event.which == 9 || event.which == 37 || event.which == 39)
        {
            return true;
        }
        event.returnValue = false;
    }

    var pKey = String.fromCharCode(event.which);

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}

/**********************
* 숫자만 입력하는 INPUT창에 붙여넣기를 했을 경우에도 숫자만 입력 되게.
* @param :
* @return : void
* @see
************************/
/*
function setPasteNumberOnly()
{
    var clipdata = window.clipboardData.getData("Text");
    clipdata = clipdata.replace(/-/gi,"");
    if(clipdata.match(/^\d+$/ig) == null){
        //alert("형식이 맞지 않습니다.");
        return false;
    }

    var element = document.all.tags('INPUT');

    for(var idx=0; idx < element.length; idx++){
        var obj = element[idx];
        if(obj.onpaste && obj == this){

            obj.value = clipdata.substring(0,clipdata.length);
        }
    }

    event.returnValue = false;
}
*/

function setPasteNumberOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */

    var clipdata = window.clipboardData.getData("Text");
    clipdata = clipdata.replace(/-/gi,"");
    if(clipdata.match(/^\d+$/ig) == null){
        /* alert("형식이 맞지 않습니다."); */
        return false;
    }

    var element = document.all.tags('INPUT');

    for(var idx=0; idx < element.length; idx++){
        var obj = element[idx];
        if(obj.onpaste && obj == this){

            obj.value = clipdata.substring(0,clipdata.length);
        }
    }

    event.returnValue = false;
}

/**********************
* 페이지 초기화시에 언어 및 숫자형 입력 및 표현 처리.
* @param : 이벤트를 셋팅할 element
* @return : void
* @see
************************/
function initSetLetterType(elem)
{
/* alert(elem.getAttribute("chartype")); */
    /* elem.style.imeMode = "disabled"; */
    if (elem.getAttribute("chartype") == "kor")/* 한글만 */
    {
        elem.style.imeMode = "active";
        elem.onblur = setLetterKoreanOnlyBlur;
        /* elem.onkeypress = setLetterKoreanOnly; */
    } else if (elem.getAttribute("chartype") == "kornum")/* 한글+숫자 */
    {
        elem.style.imeMode = "active";
        elem.onblur = setLetterKorNumOnlyBlur;
        /* elem.onkeypress = setLetterKorNumOnly; */
    } else if (elem.getAttribute("chartype") == "koreng")/* 한글+영문 */
    {
        elem.style.imeMode = "auto";
        elem.onblur = setLetterKorEngOnlyBlur;
        /* elem.onkeypress = setLetterKorEngOnly; */
    } else if (elem.getAttribute("chartype") == "korengnum")/* 한글+영문+숫자 */
    {
        elem.style.imeMode = "auto";
        elem.onblur = setLetterKorEngNumOnlyBlur;
        /* elem.onkeypress = setLetterKorEngNumOnly; */
    } else if (elem.getAttribute("chartype")  == "eng")/* 영어만 */
    {
        elem.style.imeMode = "inactive";
        elem.onblur = setLetterEnglishOnlyBlur;
        /* elem.onkeypress = setLetterEnglishOnly; */
    } else if (elem.getAttribute("chartype")  == "engnum")/* 영어+숫자 */
    {
        elem.style.imeMode = "disabled";
        elem.onblur = setLetterEngNumOnlyBlur;
        /* elem.onkeypress = setUpperLowerCase; */
        /* 특수문자 입력 안되게 수정해야함. */
    } else if (elem.getAttribute("chartype")  == "float")/* 실수형 */
    {
        elem.onblur = setLetterFloatOnlyBlur;
        /* elem.onkeypress = setLetterFloatOnly; */

    } else if (elem.getAttribute("chartype")  == "int")/* 정수형 */
    {
        elem.onblur = setLetterIntegerBlur;
        /* elem.onkeypress = setLetterInteger; */
    } else if (elem.getAttribute("chartype")  == "onlynum")/* 오직 숫자만 */
    {
        elem.onblur = setKeyInputNumberOnlyBlur;
        elem.onpaste = setPasteNumberOnly;
        /* elem.onkeypress = setKeyInputNumberOnly; */
    } else if (elem.getAttribute("chartype")  == "money")/* 정수로만 된 아주 기본적인 금액 표시 */
    {
        elem.style.textAlign="right";
        elem.onblur = setMoneyBlur; /*  setKeydownMoney + setKeypressMoney 처리 */
        /* elem.onkeydown = setKeydownMoney;//키가 눌러졌을때 */
        /* elem.onkeypress = setKeypressMoney;//키를 눌렀다 놓았을때 */
    } else if (elem.getAttribute("chartype") == "floatmoney")
    {
        elem.style.textAlign="right";
        elem.onblur = setFloatMoneyBlur; /*  setKeydownFloatMoney + setFloatMoney 처리 */
        /* elem.onkeydown = setKeydownFloatMoney;//키가 눌러졌을때 */
        /* elem.onkeypress = setFloatMoney;//키를 눌렀다 놓았을때 */
    }
}

/**********************
* 페이지 초기화시 -,숫자 입력받기( - 키코드값 189)
* @param :
* @return : void
* @see
************************/
function setKeydownMoney(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    if(event.shiftKey == true) event.returnValue = false;

    if ( event.which<48||(event.which>57&&event.which<96)||event.which>105 )/* 숫자 키코드값 */
    {
        /*  enter, tab, backspace 방향키(앞,뒤),delete는 예외처리 */
        if(event.which == 8 || event.which == 9 || event.which == 37 || event.which == 39 || event.which == 189 || event.which == 46)
        {
            return true;
        }
        event.returnValue = false;
    }
}


/**********************
* 페이지 초기화 시에 금액 형태일 경우 키 입력시 금액 형태로 전환
* @param :
* @return : void
* @see
************************/
function setKeypressMoney(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var ev = event.target;

    var pKey = String.fromCharCode(event.which);

    var tempV = ev.value;

    if(tempV.length > 0){
        var stat = true;
        while(stat)
        {
            if(tempV.length > 0 && tempV.substring(0,1)==0)
            {
                tempV = tempV.substr(1);
            } else {
                stat = false;
            }
        }
    }

    var moneyReg = new RegExp('(-?[0-9]+)([0-9]{3})');
    tempV = tempV + pKey;
    tempV = tempV.replace(/\,/g, "");
    while(moneyReg.test(tempV))
    {
        tempV = tempV.replace(moneyReg, '$1,$2');
    }

    ev.value = tempV;
    if(event.which == 9){ev.select();}
    event.returnValue=false;
}


/**********************
* 스트링값을 정수형 머니 형태로 변환
*  ex : changeIntMoneyType("1100000") 리턴되는 데이타 : 1,100,000
* @param : 변환할 String 데이타
* @return : 금액 형태로 변환된 스트링
* @see
************************/
function changeIntMoneyType(data)
{
    var tempV = data;

    var moneyReg = new RegExp('(-?[0-9]+)([0-9]{3})');
    tempV = tempV.replace(/\,/g, "");
    while(moneyReg.test(tempV))
    {
        tempV = tempV.replace(moneyReg, '$1,$2');
    }
    return tempV;
}


/**********************
* 실수형 금액 입력제어 스크립트. 숫자 , . , - 값만 입력받음. 소수점 두째 자리까지만 입력됨
*  ex : changeIntMoneyType("1100000") 리턴되는 데이타 : 1,100,000
* @param : 변환할 String 데이타
* @return : 금액 형태로 변환된 스트링
* @see
************************/
function setKeydownFloatMoney(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    if(event.shiftKey == true) event.returnValue = false;

    var floatindex = event.target.value.indexOf(".");

    if(floatindex != -1)
    {
        var floatNum = event.target.value.substring(floatindex+1);
        if (event.which == 8 )
            return;
        else if (floatNum.length > 1 )
            event.returnValue = false;
    }

    if ( event.which<48||(event.which>57&&event.which<96)||event.which>105 )/* 숫자 키코드값 */
    {
        if( event.which == 8 || event.which == 9 || event.which == 37 || event.which == 39 || event.which == 189)
        {
            return;
        } else if( event.which == 190 && floatindex == -1 )
        {
            return
        }

        event.returnValue = false;
    }
}


/**********************
* 키 입력시 float 타입의 금액 형태로 전환
* @param :
* @return :
* @see
************************/
function setFloatMoney(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var ev = event.target;
    var pKey = String.fromCharCode(event.which);

    var tempV = ev.value;
    var floatnum = "";

    if(tempV.indexOf(".") != -1)
    {
        floatnum = tempV.substring(tempV.indexOf(".")) + pKey;
        tempV = tempV.substring(0,tempV.indexOf("."));
    } else {
        tempV = tempV + pKey;
    }

    var moneyReg = new RegExp('(-?[0-9]+)([0-9]{3})');
    tempV = tempV.replace(/\,/g, "");
    while(moneyReg.test(tempV))
    {
        tempV = tempV.replace(moneyReg, '$1,$2');
    }

    ev.value = tempV+floatnum;
    if(event.which == 9){ev.select();}
    event.returnValue=false;
}

/**********************
* 키 입력시 한글만 입력받기
* @param :
* @return :
* @see
************************/
function setLetterKoreanOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    if(!((pKey.charCodeAt() > 0x3130 && pKey.charCodeAt() < 0x318F) || (pKey.charCodeAt() >= 0xAC00 && pKey.charCodeAt() <= 0xD7A3)))
    {
        event.returnValue=false;
        delete eReg;
    }

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}

/**********************
* 키 입력시 한글,숫자 입력받기
* @param :
* @return :
* @see
************************/
function setLetterKorNumOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    if(!((pKey.charCodeAt() > 0x3130 && pKey.charCodeAt() < 0x318F) || (pKey.charCodeAt() >= 0xAC00 && pKey.charCodeAt() <= 0xD7A3)
    || !setKeyInputNumberOnly(event)))
    {
        event.returnValue=false;
        delete eReg;
    }

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}


/**********************
* 키 입력시 한글,영어만 입력받기
* @param :
* @return :
* @see
************************/
function setLetterKorEngOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    var eReg = /[a-zA-Z]/g;
    if(!((pKey.charCodeAt() > 0x3130 && pKey.charCodeAt() < 0x318F) || (pKey.charCodeAt() >= 0xAC00 && pKey.charCodeAt() <= 0xD7A3)
        || !(pKey!="\r" && !eReg.test(pKey))))
    {
        event.returnValue=false;
        delete eReg;
    }

    setUpperLowerCase();

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}


/**********************
* 키 입력시 한글,영어,숫자만 입력받기
* @param :
* @return :
* @see
************************/
function setLetterKorEngNumOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    var eReg = /[a-zA-Z]/g;
    if(!((pKey.charCodeAt() > 0x3130 && pKey.charCodeAt() < 0x318F) || (pKey.charCodeAt() >= 0xAC00 && pKey.charCodeAt() <= 0xD7A3)
        || !(pKey!="\r" && !eReg.test(pKey))  || !setKeyInputNumberOnly(event)))
    {
        event.returnValue=false;
        delete eReg;
    }
    setUpperLowerCase();

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}


/**********************
* 키 입력시 영어만 입력받기
* @param :
* @return :
* @see
************************/
function setLetterEnglishOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    var eReg = /[a-zA-Z]/g;

    if(pKey!="\r" && !eReg.test(pKey)) /* 엔터키 및 regkey가 아닐경우 리턴 */
        event.returnValue=false;

    delete eReg;

    setUpperLowerCase();

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}

/**********************
* 키 입력시 숫자,- 값만 입력받음.
* @param :
* @return :
* @see
************************/
function setLetterInteger(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    var intReg = /[0-9\\-]/g;

    if(pKey!="\r" && !intReg.test(pKey)) /* 엔터키 및 regkey가 아닐경우 리턴 */
        event.returnValue=false;

    delete intReg;

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}



/**********************
* 키 입력시 숫자 , . , - 값만 입력받음.
* @param :
* @return :
* @see
************************/
function setLetterFloatOnly(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var pKey = String.fromCharCode(event.which);
    var floatReg = /[0-9\\.\\-]/g;

    if(pKey!="\r" && !floatReg.test(pKey)) /* 엔터키 및 regkey가 아닐경우 리턴 */
        event.returnValue=false;

    delete floatReg;

    if( event.target.getAttribute("userchar") != undefined) {
        var userKey = event.target.getAttribute("userchar");
        for(i=0;i< userKey.length;i++) {
            if(pKey == userKey.charAt(i)) {
                event.returnValue=true;
                break;
            }
        }
    }
}



/* -----------------------------------------------------------------------------------------------------------------
	----e2e 적용시 event.keycode가 120번으로 동일하게 넘어오는 현상때문에 기존 chartype스크립트를 onBlur시 처리되도록 추가한 함수들 <시작>  -----
/**********************
* 페이지 초기화시 숫자만 입력받기 (onBlur 버전)
* @param :
* @return :
* @see
************************/
/*
function setKeyInputNumberOnlyBlur()
{
    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.srcElement.value.length;i++) {
        var pKey = event.srcElement.value.charCodeAt(i);
            if( event.srcElement.userchar != undefined) {
            userCharYn = true;
            userKey = ","+event.srcElement.userchar;
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if( !( (userChar == true && userCharYn) || (pKey > 47 && pKey < 58) || (pKey == 8 || pKey == 9 || pKey == 37 || pKey == 39) ) ) {
                i18nExtAlert("","숫자"+userKey +"만 입력",'',event.srcElement);
                return false;
            }
            userChar = false;
        }
}
*/

function setKeyInputNumberOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;

    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);

            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if( !( (userChar == true && userCharYn) || (pKey > 47 && pKey < 58) || (pKey == 8 || pKey == 9 ) ) ) {
                i18nExtAlert(hasOnlyNumber_str,"",EXT_ALERT, _fU_localeCode ,event.target);
                return false;
            }
            userChar = false;
        }
}

/**********************
*  키 입력시 한글,영어,숫자만 입력받기 (onBlur 버전)
* @param :
* @return :
* @see
************************/
function setLetterKorEngNumOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);
            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if( !((userChar == true && userCharYn) || (pKey > 0x3130 && pKey < 0x318F) || ((pKey >= 0xAC00 && pKey <= 0xD7A3))) &&
                !((pKey > 96 && pKey < 123) || (pKey > 64 && pKey < 91)) && !(pKey > 47 && pKey < 58) ) {
                i18nExtAlert(hasOnlyKorEngNum_str,"",EXT_ALERT,_fU_localeCode,event.target);
                return false;
            }
            userChar = false;
    }
}

/**********************
*  키 입력시 한글만 입력받기 (onBlur 버젼)
* @param :
* @return :
* @see
************************/
function setLetterKoreanOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);

            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if((!((userChar == true && userCharYn) || (pKey > 0x3130 && pKey < 0x318F) || (pKey >= 0xAC00 && pKey <= 0xD7A3))) )
            {
                i18nExtAlert(hasOnlyKorean_str,"",EXT_ALERT, _fU_localeCode,event.target);
                return false;
            }
            userChar = false;
    }
}


/**********************
*  키 입력시 한글,숫자 입력받기 (onBlur 버젼)
* @param :
* @return :
* @see
************************/
function setLetterKorNumOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);

            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if(( !((userChar == true && userCharYn) || (pKey > 0x3130 && pKey < 0x318F) || (pKey >= 0xAC00 && pKey <= 0xD7A3)) && (pKey < 48 || pKey > 57)) )
            {
                /*  enter, tab, backspace 방향키(앞,뒤)는 예외처리 */
                if(pKey == 8 || pKey == 9 ){
                    continue;
                } else {
                    i18nExtAlert(hasOnlyKorNum_str,"",EXT_ALERT,_fU_localeCode,event.target);
                    return false;
                }
            }
            userChar = false;
        }
}

/**********************
*  키 입력시 한글,영어만 입력받기 (onBlur 버전)
* @param :
* @return :
* @see
************************/
function setLetterKorEngOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);
            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if((!((userChar == true && userCharYn) || (pKey > 0x3130 && pKey < 0x318F) || ((pKey >= 0xAC00 && pKey <= 0xD7A3))) &&
                !((pKey > 96 && pKey < 123) || (pKey > 64 && pKey < 91)))) {
                i18nExtAlert(hasOnlyKorEng_str,"",EXT_ALERT,_fU_localeCode,event.target);
                return false;
            }
            userChar = false;
    }
}


/**********************
*  키 입력시 영어만 입력받기 (onBlur 버전)
* @param :
* @return :
* @see
************************/
function setLetterEnglishOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);
            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if((!((userChar == true && userCharYn) || (pKey > 96 && pKey < 123) || (pKey > 64 && pKey < 91)))) {
                i18nExtAlert(hasOnlyEngligh_str,"",EXT_ALERT,_fU_localeCode,event.target);
                return false;
            }
            userChar = false;
    }
}

/**********************
*  키 입력시 영어,숫자만 입력받기 (onBlur 버전)
* @param :
* @return :
* @see
************************/
function setLetterEngNumOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var userChar = false;
    var userKey  = "";
    var userCharYn = false;
    for(i=0;i < event.target.value.length;i++) {
        var pKey = event.target.value.charCodeAt(i);
            if( event.target.getAttribute("userchar") != undefined) {
            userCharYn = true;
            userKey = event.target.getAttribute("userchar");
                for(x=0;x< userKey.length;x++) {
                    if(pKey == userKey.charCodeAt(x)) {
                        userChar = true;
                        break;
                    }
                }
            }

            if((!((userChar == true && userCharYn) || (pKey > 96 && pKey < 123) || (pKey > 64 && pKey < 91)) && !(pKey > 47 && pKey < 58))) {
                i18nExtAlert(hasOnlyEngNum_str,"",EXT_ALERT,_fU_localeCode,event.target);
                return false;
            }
            userChar = false;
        }
}


/**********************
*  키 입력시 숫자,- 값만 입력받음. (onBlur버전)
* @param :
* @return :
* @see
************************/
function setLetterIntegerBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */
    var evtValueLength = event.target.value.length;

    for(i=0;i < evtValueLength;i++) {
        var pKey = event.target.value.charCodeAt(i);

        /* - 만 입력됐을 경우 */
        if(evtValueLength == 1 && pKey == 45) {
            i18nExtAlert(validationLetterInteger_str1,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }

        if(((evtValueLength-1)-i)%4 == 3 && (evtValueLength-1) != 0 && event.target.value.charAt(i) == ',' ) continue;
        if(i == 0 && event.target.value.charAt(i) == '-' ) continue;

        /*  입력값중 '-' 가 중간에 존재할경우 경고 메시지 */
        if(i != 0 && pKey == 45) {
            i18nExtAlert(validationLetterInteger_str2,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }

        if(!(pKey > 47 && pKey < 58) && !(pKey == 45)) {
            i18nExtAlert(hasOnlyNumber_str,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }
    }
}

/**********************
*  키 입력시 숫자 , . , - 값만 입력받음. (onBlur 버전)
* @param :
* @return :
* @see
************************/
function setLetterFloatOnlyBlur(event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;      /* 이벤트가 발생하는 대상 */
    var floatPoint = event.target.value.indexOf('.') != -1 ? event.target.value.indexOf('.'):event.target.value.length;
    var evtValueLength = event.target.value.length;
    for(i=0;i < evtValueLength;i++) {
        var pKey = event.target.value.charCodeAt(i);

        /* - 만 입력됐을 경우 */
        if(evtValueLength == 1 && pKey == 45) {
            i18nExtAlert(validationLetterInteger_str1,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }

        /* 입력값중 '.' 가 맨 앞이나 맨 뒤에  존재할경우 경고 메시지 */
        if(i == 0 && pKey == 46 || i == (evtValueLength-1) && pKey == 46) {
            i18nExtAlert(validationLetterInteger_str3,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }

        /* 소수점 이상의 수일경우 */
        if(i<floatPoint) {
            if(((floatPoint-1)-i)%4 == 3 && (floatPoint-1) != 0 && event.target.value.charAt(i) == ',' ) continue;
            if(i == 0 && event.target.value.charAt(i) == '-' ) continue;
        }

        if(i> floatPoint && event.target.value.charAt(i) == '.') {
            i18nExtAlert(validationLetterInteger_str4,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }

        /*  입력값중 '-' 가 중간에 존재할경우 경고 메시지 */
        if(i != 0 && pKey == 45) {
            i18nExtAlert(validationLetterInteger_str2,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }

        if(!(pKey > 47 && pKey < 58) && !(pKey == 45 || pKey == 46)) {
            i18nExtAlert(hasOnlyNumCommaMinus_str,"",EXT_ALERT,_fU_localeCode,event.target);
            return false;
        }
    }
}

/**********************
*  chartype="money"처리. 숫자만 입력, 3자리마다 "," 처리. setKeydownMoney + setKeypressMoney (onBlur 버전)
*  '-',숫자만 입력
* @param :
* @return :
* @see
************************/
function setMoneyBlur(event) {
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */
    var tempV  = event.target.value;

    if(tempV.length > 0){
        var stat = true;
        while(stat)
        {
            if((tempV.length > 0 && tempV.substring(0,1)==0))
            {
                tempV = tempV.substr(1);
            }else if(tempV.length > 1 && tempV.substring(0,1)== '-' && tempV.substring(1,2)== 0) {
                tempV = "-" + tempV.substr(2);
            }else {
                stat = false;
            }
        }
    }

    var moneyReg = new RegExp('(-?[0-9]+)([0-9]{3})');
    tempV = tempV.replace(/\,/g, "");
    while(moneyReg.test(tempV))
    {
        tempV = tempV.replace(moneyReg, '$1,$2');
    }

    event.target.value = tempV;
    setLetterIntegerBlur(event);
    /* if(event.which == 9){event.target.select();} */
    event.returnValue=false;

}

/**********************
*  chartype="floatmoney"처리. ".",숫자만 입력, 3자리마다 ","처리. setKeydownFloatMoney + setFloatMoney (onBlur 버전)
* '-','.',숫자만 입력
* @param :
* @return :
* @see
************************/
function setFloatMoneyBlur(event) {
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var tempV = event.target.value;

    var floatnum = "";

    if(tempV.indexOf(".") != -1)
    {
        floatnum = tempV.substring(tempV.indexOf("."));
        tempV = tempV.substring(0,tempV.indexOf("."));
    }

    /* 처음 값이 0이고 다음 값이 .이 아닐경우 */
    if(tempV.charAt(0) == "0" && floatnum == "") {
        while(tempV.charAt(0) == "0"){
            tempV = tempV.substring(1);
        }
    }

    /* 처음 값이 - 이고 두번째 값이 0 일때 세번째 값이 .가 아닐경우 */
    if(tempV.charAt(0) == "-" && tempV.charAt(1) == "0" && floatnum == "") {
        while(tempV.charAt(1) == "0"){
            tempV = "-"+tempV.substring(2);
        }
    }

    /* 소수점 앞에 값이 숫자가 아닐경우 */
    if(isNaN(tempV.charAt(tempV.length-1))) {
        while(isNaN(tempV.charAt(tempV.length-1)) && tempV.length > 0) {
            tempV = tempV.substring(0,(tempV.length >=1 ? tempV.length-1:0));
        }
        floatnum = floatnum.substring(1);
    }

    var moneyReg = new RegExp('(-?[0-9]+)([0-9]{3})');
    tempV = tempV.replace(/\,/g, "");
    floatnum = floatnum.replace(/\,/g, "");
    while(moneyReg.test(tempV))
    {
        tempV = tempV.replace(moneyReg, '$1,$2');
    }

    event.target.value = tempV+floatnum;
    setLetterFloatOnlyBlur(event);
    /* if(event.which == 9){event.target.select();} */
    event.returnValue=false;
}

/* -----------------------------------------------------------------------------------------------------------------
----e2e 적용시 event.keycode가 120번으로 동일하게 넘어오는 현상때문에 기존 chartype스크립트를 onBlur시 처리되도록 추가한 함수들 <끝>  -----


-----------------------------------------------------------------------------------------------------------------
----------------------------------- 페이지 initialize 관련 함수 끝 ------------------------------------------------
*/

/**********************
*  최소값 체크 로직
*  ex : validationMinimum("100000","10000")
* @param : 지정된 최소 value
* @param : 입력된 Value
* @return : boolean
* @see
************************/
function validationMinimum(minV,inV)
{
    if (minV == "")
    {
        i18nExtAlert(validationMinimum_str);
        return false;
    }

    if ( parseFloat(inV) < parseFloat(minV) )
    {
        return false;
    }

    return true;
}


/**********************
*  최대값 체크 로직
*  ex : validationMaximum("100000","10000")
* @param : 지정된 최대 value
* @param : 입력된 Value
* @return : boolean
* @see
************************/

function validationMaximum(maxV,inV)
{
    if (maxV == "")
    {
        i18nExtAlert(validationMaximum_str);
        return false;
    }


    if ( parseFloat(maxV) < parseFloat(inV) )
    {
        return false;
    }
    return true;
}


/**********************
*  최대 btye 체크 로직
*  ex : validationMaxByte(form1.inputname.value , 10)
* @param : 체크할 String value
* @param : 최대 byte
* @return : boolean
* @see
************************/
function validationMaxByte(textObj, length_limit)
{
    var length = calculate_msglen(textObj);
    var kor_cnt = Math.floor(length_limit/2);
    if (length > length_limit) {
        return false;
    }
    return true;
}


/**********************
*  최소 btye 체크 로직
*  ex : validationMaxByte(form1.inputname.value , 10)
* @param : 체크할 String value
* @param : 최소 byte
* @return : boolean
* @see
************************/
function validationMinByte(textObj, length_limit)
{
    var length = calculate_msglen(textObj);
    var kor_cnt = Math.floor(length_limit/2);
    if (length < length_limit) {
        return false;
    }
    return true;
}

/*********************
*  한글 2글자 영문 1글자로 길이 측정하여 문자열의 byte 길이를 리턴한다.
*  ex : validationMaxByte(form1.inputname.value , 10)
* @param : 체크할 String value
* @return : 측정한 해당 값의 byte 길이
* @see
************************/
function calculate_msglen(message)
{
    var nbytes = 0;

    for (i=0; i<message.length; i++) {
        var ch = message.charAt(i);
        if(escape(ch).length > 4) {
            nbytes += 2;
        } else if (ch == '\n') {
            if (message.charAt(i-1) != '\r') {
                nbytes += 1;
            }
        } else if (ch == '<' || ch == '>') {
            nbytes += 4;
        } else {
            nbytes += 1;
        }
    }
    return nbytes;
}


/**********************
*  get,put 만 되는 hash table
*  ex : var temphash = new javascriptHashtable()
*  ex : temphash.put("key1","토요일"); 값 넣기
*  ex : temphash.put("key2","일요일");
*  ex : temphash.get("key1"); 값 가져오기
* @param :
* @return :
* @see
************************/
function javascriptHashtable(){
    this.hash = new Array();
}
javascriptHashtable.prototype.get = function (key)
{
    if(this.hash[key] == undefined)
        return "null";
    else
        return this.hash[key];
};
javascriptHashtable.prototype.put = function (key, value)
{
    if (key == null || value == null)
        return i18nExtAlert("key and value do not permit null or blank");

    if (this.hash[key] != null)
        return i18nExtAlert("already exist value");

    this.hash[key] = value;
};


/**********************
*  중첩된 css에서 해당 css만 제거
*  ex : removeCss(["input1","input2"],"input1")
* @param : 설정되어 있는 class 배열. (참고로 css는 class="input1 input2" 이런식으로 중복될수 있다.
* @param : 제거할 css명
* @return : 제거할 css가 제거된 스트링값
* @see
************************/
function removeCss(cssArr,reAtt)
{
    var retCss="";
    for( var i = 0 ; i < cssArr.length ; i++)
    {
        if(reAtt != cssArr[i] )
            retCss += cssArr[i] + " ";
    }

    return retCss;
}

/**********************
* submit 상태를 알려주는 submitstat 값을 false로 바꿔주는 함수.
* @param :
* @return :
* @see
************************/
function submitStateFalse(frm) {
    frm.submitstat = "false";
}

/**********************
* MaskUp된 데이타에서 마스크 Delemeter 제외하고 값 리턴
*  ex : unMaskUpData(form1.name)
* @param : 마스크한 요소 name 또는 해당 객체 자체.
* @return : 구분자를 제외한 데이타값
* @see
************************/
function unMaskUpData(element)
{
    var unmaskData = "";
    /* mask한 값에서 마스크 값 삭제 */
    if ( ( element.maskform != undefined && element.maskform != "") || element.chartype  == "money")
    {
        unmaskData = getOnlyNumberFormat(element.value);/* spcommon.js에 있는 숫자만 빼오기 로직 */
    } else unmaskData = element.value;

    return unmaskData;
}



/**********************
* 사용자가 지정한 마스크업 스타일중 영어,숫자 혼합인 데이타의 mask를 지울때 사용 영어,숫자 이외의 문자 제거
*  ex : unMaskEngNum(String)
* @param : 마스크가 있는 String
* @return : 구분자를 제외한 String
* @see
************************/
function unMaskEngNum(data) {

    var accReg = new RegExp('([a-zA-Z0-9])');

    var temp = "";
    for(var i = 0 ; i < data.length ; i++)
    {
        if(accReg.test(data.substr(i,1)))
        {
            temp += data.substr(i,1);
        }
    }
    return temp;
}



/**********************
* window.showModalDialog(arg1,arg2,arg3) 옵션 배열의 갯수를 정확히 넣어줘야 합니다. 값이 필요 없으면 '' 을 넣습니다.
*  ex :  openPopModal(a.html,"test",[넓이,높이,center여부,x좌표,y좌표,scroll여부,resizable여부])
*      openPopModal(a.html,"test",['200','200','yes','200','200','yes','yes'])
* @param : 주소
* @param : 넘겨줄 파라미터
* @param : 창관련 옵션(배열 형식)
* @return : void
* @see
************************/
function openPopModal(url, arg, option)
{
    var sFeatures = "";

    if(option != undefined) {
        var popWidth = option[0];
        var popHeight = option[1];
        var popCenter = option[2] == "" ? "yes" : option[2];
        var popXpos = option[3];
        var popYpos = option[4];
        var popScroll = option[5] == "" ? "yes" : option[5];
        var popResize = option[6] == "" ? "no" : option[6];

        var xpos = (screen.width - popWidth) / 2;
        var ypos = (screen.height - popHeight) / 2 ;

        sFeatures = "dialogWidth:"+popWidth+"px";
        sFeatures += ";dialogHeight:"+popHeight+"px";
        sFeatures += ";center:"+popCenter;
        /* sFeatures += ";dialogLeft:"+popXpos+"px"; */
        /* sFeatures += ";dialogTop:"+popYpos+"px"; */
        sFeatures += ";dialogLeft:"+xpos+"px";
        sFeatures += ";dialogTop:"+ypos+"px";


        sFeatures += ";scroll:"+popScroll;
        sFeatures += ";resizable:"+popResize;
    }
    
    if(arg == "")
        arg = this;/* 파라미터가 없을 경우 현재 부모창을 넘김. */

    return window.showModalDialog(url, arg, sFeatures);
}


/**********************
* window.showModelessDialog(arg1,arg2,arg3)  옵션 배열의 갯수를 정확히 넣어줘야 합니다. 값이 필요 없으면 '' 을 넣습니다.
*  ex :  openPopModeless(a.html,"test",[넓이,높이,center여부,x좌표,y좌표,scroll여부,resizable여부])
*        openPopModeless(a.html,"test",['200','200','yes','200','200','yes','yes'])
* @param : 주소
* @param : 파라미터
* @param : 창관련 옵션(배열 형식)
* @return : 오픈시킨 window
* @see
************************/
function openPopModeless(url, arg, option)
{
    var sFeatures = "";

    if(option != undefined) {
        var popWidth =  option[0];
        var popHeight =  option[1];
        var popCenter =  option[2] == "" ? "yes" : option[2];
        var popXpos =  option[3];
        var popYpos =  option[4];
        var popScroll =  option[5] == "" ? "yes" : option[5];
        var popResize =  option[6] == "" ? "yes" : option[6];

        var xpos = (screen.width - popWidth) / 2;
        var ypos = (screen.height - popHeight) / 2 ;


        var sFeatures = "dialogWidth:"+popWidth+"px";
        sFeatures += ";dialogHeight:"+popHeight+"px";
        sFeatures += ";center:"+popCenter;

        /* sFeatures += ";dialogLeft:"+popXpos+"px"; */
        /* sFeatures += ";dialogTop:"+popYpos+"px"; */
        sFeatures += ";dialogLeft:"+xpos+"px";
        sFeatures += ";dialogTop:"+ypos+"px";

        sFeatures += ";scroll:"+popScroll;
        sFeatures += ";resizable:"+popResize;
    }

    if(arg == "")
        arg = this;/* 파라미터가 없을 경우 현재 부모창을 넘김. */

    var win = window.showModelessDialog(url, arg, sFeatures);
    return win;
}



/**********************
* window.open(arg1,arg2,arg3)  옵션 배열의 갯수를 정확히 넣어줘야 합니다. 값이 필요 없으면 '' 을 넣습니다.
*  ex :  openWinPop(a.html,"새창임","form 이름",[넓이,높이,x좌표,y좌표,scroll여부,resizable여부,주소창여부,menu var 여부,toolbar 여부,상태바 여부])
*              openWinPop(act,"popupWin","form2") -> form 데이타를 submit 하면서 일반적인 창 크기
*              openWinPop("test.web","popupWin","form2",["500","600"]) -> form 데이타를 submit 하면서 팝업 사이즈가 500,600 을 띄울 경우
*              openWinPop(act,"popupWin"); form 데이타없이 일반적인 크기의 팝업을 띄울경우
*              openWinPop("test.web?a=1","popupWin","",["500","600"]) -> form 데이타없이 팝업을 띄울 경우
*              scroll은 default=yes임 , center가 yes로 되어있어도 x,y좌표가 있으면 좌표에 따른다.
* @param : 주소
* @param : 윈도우 이름
* @param : 창관련 옵션(배열 형식)
* @param : 암호화 여부(인자값을 안넣거나 'true'값을 넣으면 암호화 됨, 'false'값을 넣으면 암호화 안됨
* @return : void
* @see
************************/
function openWinPop(url, popname , formName , option, isEnc)
{
    var sFeatures ="";
    if(option != undefined){
        var popWidth = option[0] == "" ? "600" : option[0];
        var popHeight = option[1] == "" ? "450" : option[1];
        var popLeft = option[2] == "" ? 0 : option[2];
        var popTop = option[3] == "" ? 0 : option[3];
        var popScroll = option[4] == "" ? "no" : option[4];
        var popResize = option[5] == "" ? "yes" : option[5];
        var popLocation = option[6] == "" ? "no" : option[6];
        var popMenubar = option[7] == "" ? "no" : option[7];
        var popToolbar = option[8] == "" ? "no" : option[8];
        var popStatus = option[9] == "" ? "no" : option[9];

        var xpos = (screen.width - popWidth) / 2;
        var ypos = (screen.height - popHeight) / 2 ;

        sFeatures = "width="+popWidth;
        sFeatures += ",height="+popHeight;

        /* sFeatures += ",left="+popLeft; */
        /* sFeatures += ",top="+popTop; */
        sFeatures += ",left="+xpos;
        sFeatures += ",top="+ypos;

        sFeatures += ",scrollbars="+popScroll;
        sFeatures += ",resizable="+popResize;
        sFeatures += ",location="+popLocation;
        sFeatures += ",menubar="+popMenubar;
        sFeatures += ",toolbar="+popToolbar;
        sFeatures += ",status="+popStatus;

    }

    if(formName != undefined && formName != "") {
        var newWin = "";
        /* F/W 이종원 대표 요청으로 수정함 09.04.06 */
        if(_fU_localeCode == "KO")
        {
            newWin = window.open(context_path_str+'/jsp/common/notice/process_view_KO.html', popname, sFeatures);
        }
        else
        {
            newWin = window.open(context_path_str+'/jsp/common/notice/process_view_EN.html', popname, sFeatures);
        }
        var submitform = eval("document."+formName);

        /* submitform 길이가 0일 경우 'POST IS NULL' alert창이 뜨는 문제 방지. */
        if(submitform.elements.length == 0) {
            var element = document.createElement('INPUT');
            element.type = "hidden";
            submitform.appendChild(element);
        }

        submitform.action=url;
        submitform.target=popname;
       
        submitform.submit();
     
    } else {
         var newWin = window.open(url, popname, sFeatures); 
    }

}

/**********************
* window.showModalDialog(arg1,arg2,arg3) 옵션 배열의 갯수를 정확히 넣어줘야 합니다. 값이 필요 없으면 '' 을 넣습니다.
*  ex : openPopModal(a.html,"test",[넓이,높이,center여부,x좌표,y좌표,scroll여부,resizable여부])
*           openPopModal(a.html,"test",['200','200','yes','200','200','yes','yes'])
* @param : 주소
* @param : 넘겨줄 파라미터
* @param : 창관련 옵션(배열 형식)
* @return : void
* @see
************************/
function openDetailPop(url, popname , formName , option)
{
    var sFeatures ="";
    if(option != undefined){
        var popWidth = option[0] == "" ? "600" : option[0];
        var popHeight = option[1] == "" ? "450" : option[1];
        var popLeft = option[2] == "" ? 0 : option[2];
        var popTop = option[3] == "" ? 0 : option[3];
        var popScroll = option[4] == "" ? "no" : option[4];
        var popResize = option[5] == "" ? "yes" : option[5];
        var popLocation = option[6] == "" ? "no" : option[6];
        var popMenubar = option[7] == "" ? "no" : option[7];
        var popToolbar = option[8] == "" ? "no" : option[8];
        var popStatus = option[9] == "" ? "no" : option[9];

        var xpos = (screen.availWidth - 820) / 2;
        var ypos = (screen.availHeight - 400) / 2 ;

            /* var cx = document.body.clientWidth;
            var cy = document.body.clientHeight;
            var sw = screen.availWidth;
            var sh = screen.availHeight;
            var px = (sw-cx)/2;
            var py = (sh-cy)/2
            window.moveTo(px, py);*/
        /*
        sFeatures = "width=820px";
        sFeatures += ",height=400px";
        */
        sFeatures = "width="+popWidth;
        sFeatures += ",height="+popHeight;
        sFeatures += ",left="+xpos;
        sFeatures += ",top="+ypos;


        sFeatures += ",scrollbars=yes";
        sFeatures += ",resizable="+popResize;
        sFeatures += ",location="+popLocation;
        sFeatures += ",menubar="+popMenubar;
        sFeatures += ",toolbar="+popToolbar;
        sFeatures += ",status="+popStatus;

        /* alert(sFeatures) */
    }

    if(formName != undefined && formName != "") {
        var newWin = window.open('', popname, sFeatures);

        var submitform = eval("document."+formName);

        submitform.action=url;
        submitform.target=popname;
         submitform.submit();
    } else {
        var newWin = window.open(url, popname, sFeatures); 
         newWin.focus(); 
         return newWin; 
    }

}



/**********************
* onblur 이벤트에 사용되며 첫번째 인자와 해당 input 또는 select 객체값이 동일하면  한개이상의 인풋,select 창을 inable,disable 시키기
*  ex : 폼이 있을경우(폼이름:aForm) ex : onblur=orderDisableDiv('aaa',['aForm.dis1','aForm.dis2',...])
*           폼이 없을경우 ex : onblur=orderDisableDiv('aaa',['dis1','dis2',...])
* @param : disable 기준값
* @param : disable 시킬 개체의 name(배열 1개 이상)
* @param : event - firefox에서 사용할수 있도록 이벤트 객체를 가져옴
* @return : void
* @see
************************/
function orderDisableDiv(divValue,divName, event)
{
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var el = event.target;  /* 이벤트가 발생하는 대상 */

    var eventValue = event.target.value;

    if(eventValue == divValue)
    {
        for(var i = 0 ; i < divName.length ; i++)
        {
            var eventTag = eval(divName[i]);

            /* input창일때 */
            if ( eventTag.tagName.toString().toLowerCase() == "input" )
            {
                eventTag.readOnly = true;
                eventTag.disabled = true;
                eventTag.style.backgroundColor = "#cccccc";
            }

            /* select box일때 */
            if ( eventTag.tagName.toString().toLowerCase() == "select")
                eventTag.disabled = true;
        }
    } else
    {
        for(var i = 0 ; i < divName.length ; i++)
        {
            var eventTag = eval(divName[i]);

            /* input창일때 */
            if ( eventTag.tagName.toString().toLowerCase() == "input" )
            {
                eventTag.readOnly = false;
                eventTag.disabled = false;
                eventTag.style.backgroundColor = "";
            }

            /* select box일때 */
            if ( eventTag.tagName.toString().toLowerCase() == "select")
                eventTag.disabled = false;
        }
    }
}

/**********************
* 기간 세팅된 달력
*  ex : setFromToDay('input box의 name', '시작일yyyymmdd', '종료일yyyymmdd')
* @param : 리턴값이 들어갈 input의 name
* @return : void
* @see
************************/
function fromToDayCalendar(name, locale, evt, fromDay, toDay, isBizCheck, isTodayBtn){
    setFromToDay(name, fromDay,toDay);
    openCalendar(name, locale, evt, isBizCheck, isTodayBtn);
    return false;
}

/**********************
* 달력 날짜 지정하기
*  ex : setFromToDay('input box의 name', '시작일yyyymmdd', '종료일yyyymmdd')
* @param : 리턴값이 들어갈 input의 name
* @return : void
* @see
************************/
function setFromToDay(name, fromDay, toDay){
    document.getElementById("calendarSet").innerHTML = "<input type='hidden' name='"+name+"fromday' id='"+name+"fromday' />"
                                                                                + "<input type='hidden' name='"+name+"today' id='"+name+"today' />";
    eval( "document.getElementById(\""+name+"fromday\")" ).value = fromDay ;
    eval( "document.getElementById(\""+name+"today\")" ).value = toDay ;
    return;
}
/**********************
* 달력 띄우기
*  ex : openCalendar('input box의 name', '지역', event, '영업일 체크 달력 사용여부')
* @param : 리턴값이 들어갈 input의 name
* @return : void
* @see
************************/
var _locale = "";                                /* 지역 */
var _isHolidayCheckMode = "";            /* 영업일 체크달력구분 */

/* 영업일 체크달력 관련 변수 선언 */
var _holidayTemp = "";                /* 휴일날짜 담아놓을 string temp */
var _targetDate ="";                    /*  클릭한 object */
var _holidayArr = new Array();    /* 휴일 배열 */
var _checkDay = "";                    /* 선택된 날 */
var _chCalendar ="";                /* 달력 display구분 */
var _chPeriod="";                    /* ajax기간조건인지 구분 */
var _fromday = "";
var _today = "";

function openCalendar(obj, locale, evt, isBizCheck, isTodayBtn){
    calVarInit();        /* 전역변수 초기화 */
    _locale = locale;

    if(isBizCheck){
        /* _openBizCalendar(obj, locale);        // 영업일 체크 달력 사용시 ajax_calendar.jsp반드시 include */
        _isHolidayCheckMode = "ON";
        _openCalendar(obj, locale, evt, isTodayBtn);
    }else{
        _openCalendar(obj, locale, evt, isTodayBtn);
    }
}

function openMonthCalendar(obj, locale, evt) {
    _locale = "";                            /* 지역 */
    _locale = locale;

    var targetDate = eval( "document.getElementById(\""+obj+"\")" );
    var tDateValue = getOnlyNumberFormat(targetDate.value);

    if(tDateValue.length == 0  || validateDate6(tDateValue)) {
        Calendar(targetDate, '140', _fU_localeCode, evt, true);
    } else {
        targetDate.select();
    }
}

/**********************
* 달력 띄우기
*  ex : sp_calendar('aform.cal1')
* @param : 리턴값이 들어갈 input의 name
* @return : void
* @see
************************/
function _openCalendar(name, locale, evt, isTodayBtn)
{
/* alert(name); */
    /* var targetDate = eval(name); */
    var targetDate = eval( "document.getElementById(\""+name+"\")" );
    var tDateValue = getOnlyNumberFormat(targetDate.value);

    if(tDateValue.length == 0  || validateDate8(tDateValue)) {
        Calendar(targetDate, '140', locale, evt, false, isTodayBtn);
    } else {
        targetDate.select();
    }
}


/**********************
* 달력 클릭관련 전역변수 초기화
* @param :
* @return : void
* @see
************************/
function calVarInit(){
    _locale = "";                            /* 지역 */
    _isHolidayCheckMode = "";        /* 영업일 날짜달력체크 - ON일경우 영업일 체크함 */

    calInit();
}

/**********************
* 휴일정보 변수 초기화
* @param :
* @return : void
* @see
************************/
function calInit(){
    _holidayTemp = "";                /* 휴일날짜 담아놓을 string temp */
    _targetDate ="";                    /*  클릭한 object */
    _holidayArr = new Array();    /* 휴일 배열 */
    _checkDay = "";                    /* 선택된 날 */
    _chCalendar = "";
    _chPeriod ="";
    _fromday = "";
    _today = "";
}



/**********************
* 디비 쿼리 리스트 팝업. 이미 등록되어 있는 팝업Action의 URL과 팝업에서 선택된 값이 입력될 parent창의 name을 넘기면
* 팝업에서 선택된 값이 셋팅됨 값 두개를 셋팅하여 parent창에 inputname, inputname_display에 셋팅됨.
*  ex : openPopupUnit("popup.web","form1.name","500","600"){
* @param : 팝업으로 등록되어 있는 Action URL
* @param : parent창에서 값으로 사용될 input name
* @param : 팝업창 넓이
* @param : 팝업창 높이
* @return : void
* @see
************************/
function openPopupUnit(targetUrl,inputName,width,height){
    var url = targetUrl + "?inputName="+inputName;
    var popupWin = window.open(url,"popupWin","width="+width+",height="+height+",toolbar=no,resizable=yes");
}



/**********************
* 수정 , 삭제, 수정취소,삭제취소 버튼 클릭시의 버튼 enable 함수
*  ex : displayBtnOrder( "doUpdateCancel" )
* @param : 수정,삭제 수정취소,삭제취소의 명령값. /js/common.js에 등록되어 있음.
* @return : void
* @see
************************/
function displayBtnOrder( targetMethod )
{
    if ( targetMethod == updateMethod )
    {
        registeTD.style.display="none";
        updateConfirmTD.style.display="inline";
        updateCancelTD.style.display="inline";
        deleteConfirmTD.style.display="none";
        deleteCancelTD.style.display="none";
    } else if( targetMethod == deleteMethod )
    {
        registeTD.style.display="none";
        updateConfirmTD.style.display="none";
        updateCancelTD.style.display="none";
        deleteConfirmTD.style.display="inline";
        deleteCancelTD.style.display="inline";
    } else
    {
        registeTD.style.display="inline";
        updateConfirmTD.style.display="none";
        updateCancelTD.style.display="none";
        deleteConfirmTD.style.display="none";
        deleteCancelTD.style.display="none";
    }

}

/**********************
* 체크박스 체크 풀기
*  ex : unCheckedCheckBoxState( "name" )
* @param : uncheck 할 체크 박스 이름
* @return : void
* @see
************************/
function unCheckedCheckBoxState( checkName )
{
    var checkingBox = eval( "form1."+checkName );

    if(checkingBox.length == undefined)
    {
        checkingBox.checked = false;
    } else
    {
        for(var i = 0 ; i < checkingBox.length ; i++)
        {
            if(checkingBox[i].checked == true)
            {
                checkingBox[i].checked = false;
            }
        }
    }
}

/**********************
* 한개 이상의 체크박스의 상태 점검하기
*  ex : searchCheckBoxState( "name" )
* @param : 상태를 점검할 체크박스 이름
* @return : 체크박스중 체크된 갯수,array[1] 체크된 것중 마지막으로 체크된 체크박스의 value
* @see
************************/
function searchCheckBoxState( checkName )
{
    var checkCnt = 0;
    var checkedLine = 0;
    var checkingBox = eval( "form1."+checkName );
    if(checkingBox.length == undefined)
    {
        if(checkingBox.checked == true)
            return [1,0];
        else return [0,0];
    }

    for(var i = 0 ; i < checkingBox.length ; i++)
    {
        if(checkingBox[i].checked == true)
        {
            checkCnt++;
            checkedLine = checkingBox[i].value;
        }
    }
    return [checkCnt,checkedLine];
}

/**********************
* 인풋 창의 상태 변경 readOnly,color 색상 변경
*  ex : changeReadOnlyState(["name1","name2"])
* @param : 상태를 변경할 인풋 창 이름 배열
* @return : void
* @see
************************/
function changeReadOnlyState(changeArray)
{

    for(var i = 0 ; i < changeArray.length ; i++)
    {
        var eventTag = eval(changeArray[i]);

        /* input창일때 */
        if ( eventTag.tagName.toString().toLowerCase() == "input" )
        {
            eventTag.readOnly = true;
            eventTag.style.color = "#777777";
        }

        /* select box일때 */
        if ( eventTag.tagName.toString().toLowerCase() == "select")
            eventTag.disabled = true;
    }
}

/**********************
* 인풋 창의 상태 변경 Editable,color 색상 변경
*  ex : changeEditableState(["name1","name2"])
* @param : 상태를 변경할 인풋 창 이름 배열
* @return : void
* @see
************************/
function changeEditableState(changeArray)
{
    for(var i = 0 ; i < changeArray.length ; i++)
    {
        var eventTag = eval(changeArray[i]);

        /* input창일때 */
        if ( eventTag.tagName.toString().toLowerCase() == "input" )
        {
            eventTag.readOnly = false;
            eventTag.style.color = "";
        }

        /* select box일때 */
        if ( eventTag.tagName.toString().toLowerCase() == "select")
            eventTag.disabled = false;
    }
}

/**********************
* 조회일이 오늘 날짜보다 큰지 체크
*  ex : validateSearchDate("20060812", "20060812" )
* @param : 체크할 날짜(yyyymmdd) ,
* @param : 기준 날짜(yyyymmdd)
* @return : boolean
* @see
************************/
function validateSearchDate(startDate, nowDate )
{
    if(startDate.length > 8)
    {
        i18nExtAlert(validateSearchDate_str);
        return false;
    }

    if( parseInt(startDate,10) > parseInt(nowDate,10) )
    {
        return false;
    }

    return true;
}

/**********************

* 문자열을 전각문자열로 변환 (문자열의 반각문자를 전각문자로 변환함)

* @param : x_string 변환할 문자열
* @return : 변환된 전각문자열
* @see
************************/
function convert2ByteCharToString(x_string) {
    var x_2byteString = ""; /* 컨버트된 문자 */
    for(i=0;i < x_string.length;i++) {
        var c = x_string.charCodeAt(i);
        if(32 <= c && c <= 126) { /* 전각으로 변환될수 있는 문자의 범위 */
            if(c == 32) { /* 스페이스인경우 ascii 코드 32 */
                /* 아래와 같이 변환시 깨짐. */
                /* x_2byteString = x_2byteString + unescape("%uFFFC"); */
                x_2byteString = x_2byteString + unescape("%u"+gf_DecToHex(12288));
            } else {
                x_2byteString = x_2byteString + unescape("%u"+gf_DecToHex(c+65248));
            }
        }else{
            x_2byteString = x_2byteString + x_string.charAt(i);
        }
    }

    return  x_2byteString;
}


/**********************
* 반각문자를 전각문자로 변환한다.
* @param : 전각문자로 변환할 문자
* @return : 변환된 전각문자
* @see
************************/
function convert2ByteChar(x_char) {
    var x_2byteChar = ""; /* 컨버트된 문자 */
    var c = x_char.charCodeAt(0);
    if(32 <= c && c <= 126) { /* 전각으로 변환될수 있는 문자의 범위 */
        if(c == 32) { /* 스페이스인경우 ascii 코드 32 */
            /* 아래와 같이 변환시 깨짐. */
            /* x_2byteChar = unescape("%uFFFC"); */
            x_2byteChar = unescape("%u"+gf_DecToHex(12288));
        } else {
            x_2byteChar = unescape("%u"+gf_DecToHex(c+65248));
        }
    }
    return  x_2byteChar;
}

function gf_DecToHex(dec) {
    return dec.toString(16);
}

/**********************
* 다음 오브젝트로 커서를 옮기는 함수
*  ex : if(move_focus(document.myform.CheckAcct) == false) return;
* @param : boolean
* @return : void
* @see
************************/
function move_focus(Obj, event) {
  event = checkEvent(event);  /* 이벤트 값 가져오기 */

  if(event.which == 13) {
    Obj.focus();
  }
}

/**********************
* 문자 방지(한글 제외)
*  ex : ONKEYPRESS="hasOnlyNumber();"
* @param : boolean
* @return : void
* @see
************************/
function hasOnlyNumber(Obj, event){
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    var keyCode = event.which ? event.which :
            event.which ? event.which : event.charCode;
    if(keyCode > 222) return false;        /*  Select Box외 기타 이벤트 방지 */
    if (keyCode != 13) {
        if( !((keyCode>45 && keyCode<58) || (keyCode>95 && keyCode<106) || (keyCode>7 && keyCode<10) || (keyCode>36 && keyCode<41)) ){

            i18nExtAlert(hasOnlyNumber_str);
            if(Obj == null) {
                    event.returnValue = false;
                } else {
                    Obj.value = "";
                Obj.focus();
                }
        }
    }
}


/**********************
* 익스플로러 버젼 찾기
*  ex : ONKEYPRESS="javascript:getNavigatorInfoStr();"
* @param : boolean
* @return : void
* @see
************************/
function getNavigatorInfoStr()
{
    var name = navigator.appName, ver = navigator.appVersion,
        ver_int = parseInt(navigator.appVersion), ua = navigator.userAgent, infostr;
    if(name == "Microsoft Internet Explorer")
    {
        if(ver.indexOf("MSIE 3.0") != -1) return "Internet Explorer 3.0x";
        if(ver_int != 4) return "Internet Explorer " + ver.substring(0, ver.indexOf(" "));

        var real_ver = parseInt(ua.substring(ua.indexOf("MSIE ") + 5));
        if(real_ver >= 7) infostr = "Windows Internet Explorer ";
        else infostr = "Microsoft Internet Explorer ";

        if(ua.indexOf("MSIE 5.5") != -1) return infostr + "5.5";
        else return infostr + real_ver + ".x";

        return "Internet Explorer";
    }
    else if(name == "Netscape")
    {
        if(parseInt(ua.substring(8, 8)) <= 4)
          return "Netscape " + ver.substring(0, ver.indexOf(" "));
        else if(ua.lastIndexOf(" ") < ua.lastIndexOf("/"))
          return ua.substring(ua.lastIndexOf(" "));
        else return "Netscape";
    }
    else return name;
}

/**********************
* 오른쪽부터 문자열에 0을 넣어줌
*  ex : zerolpad('1234567890', 15);
* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function rPadZero(orgStr,strlen)
{
    if (orgStr.length > parseInt(strlen))
    {
        return "-1";
    }
    else
    {
        var loopCnt = (parseInt(strlen) - orgStr.length);

        for(var idx = 0;idx < loopCnt;idx++)
        {
            orgStr = orgStr + "0";
        }

        return orgStr;
    }
}
/**********************
* 일자를 더해주는 함수(onClickSetDate에서 사용)
* @param : 년도 4자리
* @param : 월 2자리
* @param : 일 2자리
* @param : 계산할 일
* @return : 계산된 날짜
* @see
************************/
function addDay(yyyy, mm, dd, pDay) /*  년, 월, 일, 계산할 일자 (년도는 반드시 4자리로 입력) */
{
    var oDate;                         /*  리턴할 날짜 객체 선언 */
    dd = dd*1 + pDay*1;                /*  날짜 계산 */
    mm--;                              /*  월은 0~11 이므로 하나 빼준다 */
    oDate = new Date(yyyy, mm, dd);    /*  계산된 날짜 객체 생성 (객체에서 자동 계산) */
    return oDate;
}
/**********************
* 달을 더해주는 함수(onClickSetDate에서 사용)
* @param : 년도 4자리
* @param : 월 2자리
* @param : 일 2자리
* @param : 계산할 달
* @return : 계산된 날짜
* @see
************************/
function addMonth(yyyy, mm, dd, pMonth) /*  년, 월, 일, 계산할 월 (년도는 반드시 4자리로 입력) */
{
    var cDate;                                                    /*  계산에 사용할 날짜 객체 선언 */
    var oDate;                                                    /*  리턴할 날짜 객체 선언 */
    var cYear, cMonth, cDay;                                      /*  계산된 날짜값이 할당될 변수 */
    mm        = mm*1 + ((pMonth*1)-1);                              /*  월은 0~11 이므로 하나 빼준다 */
    cDate    = new Date(yyyy, mm, dd);                             /*  계산된 날짜 객체 생성 (객체에서 자동 계산) */
    cYear    = cDate.getFullYear();                                /*  계산된 년도 할당 */
    cMonth    = cDate.getMonth();                                   /*  계산된 월 할당 */
    cDay    = cDate.getDate();                                    /*  계산된 일자 할당 */
    oDate    = (dd == cDay) ? cDate : new Date(cYear, cMonth, 0);  /*  넘어간 월의 첫쨋날 에서 하루를 뺀 날짜 객체를 생성한다. */

return oDate;
}

/**********************
* 시작날짜와 종료일자를 기간만큼 넣어주는 함수
*  ex : onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'0d');" : 오늘
*            onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'1d');" : 어제
*           onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'6d');" : 최근 1주
*           onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'13d');" : 최근 2주
*           onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'', '1m');" : 한달전
*           onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'', '3m');" : 세달전

* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function onClickSetDate(fromObj, toObj, termDay, termMonth) {
/*
    var today = new Date();
    var preDay;
    var yyyy = today.getYear();

    var mm = today.getMonth()+1;
    var dd = today.getDate();


    dd = (dd<10)?'0'+dd:dd;
    mm = (mm<10)?'0'+mm:mm;


    preDay = getPrevDate(""+yyyy +""+ mm + ""+dd, term);

    fromObj.value = getPrevDate(""+yyyy + ""+mm +""+ dd, term);
    toObj.value = getPrevDate(""+yyyy +""+ mm +""+ dd, "0d");
*/
    var reg = /([-]*[0-9]+)([d|m])/g;

    var today = new Date();
    var preDay, resDay, resMonth;
    //var yyyy    = today.getYear(); // 2013.03.15 장차법
    var yyyy    = today.getFullYear();
    var mm      = today.getMonth()+1;
    var dd      = today.getDate();


    var fromyyyy    = "";
    var frommm    = "";
    var fromdd    = "";

    dd = (dd<10)?'0'+dd:dd;
    mm = (mm<10)?'0'+mm:mm;


    toObj.value = yyyy + "" + mm + "" + dd;

    var cDate;

    /* 일자만 넣고 달을 넣지 않았을 때 */
    if(termDay != "" && termMonth == undefined)
    {
        resDay = reg.exec(termDay);
        cDate = addDay(yyyy, mm, dd, (parseInt(resDay[1])*-1));

    } /* 달만 빼기를 했을 때 */
    else if(termDay == "" && termMonth != undefined && termMonth != "")
    {
        resMonth = reg.exec(termMonth);

        cDate        = addMonth(yyyy, mm, dd, (parseInt(resMonth[1])*-1));
        fromyyyy     = cDate.getFullYear();
        frommm       = (cDate.getMonth()+1);
        fromdd       = cDate.getDate();
        /* 이전 달의 경우에는 한달을 뺀 다음에 하루를 더 더해야함 */
        cDate        = addDay(fromyyyy, frommm, fromdd, 1)
    }

    fromyyyy = cDate.getFullYear();
    frommm = (cDate.getMonth()+1);
    fromdd = cDate.getDate();

    frommm = (frommm<10)?'0'+frommm:frommm;
    fromdd = (fromdd<10)?'0'+fromdd:fromdd;


    fromObj.value =  ""+fromyyyy + ""+frommm + ""+fromdd;

}

/**********************
* 시작날짜와 종료일자를 기간만큼 넣어주는 함수
*  ex : onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'0d');" : 오늘
*            onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'1d');" : 어제
*           onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'7d');" : 최근 1주
*           onclick="onClickSetDate(document.frm.거래일자_시작, document.frm.거래일자_끝,'14d');" : 최근 2주
* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function onClickSetDate2(obj1, obj2, term) {
 var reg = /([0-9-]+)([d|m])/g;
 var res = reg.exec(term);
 if(res == null) {
  return false;
 }
 var termCnt = parseInt(res[1], 10);
 var termStr = res[2];
 var endDate = new Date();
 var startDate = null;
 if(termStr == "d") {
    termCnt = (termCnt > 0) ? termCnt-1 : ((termCnt < 0) ? termCnt+1 : 0);
  startDate = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate()-termCnt);
 }else if(termStr == "m") {
  startDate = new Date(endDate.getFullYear(), endDate.getMonth()-termCnt, endDate.getDate()+1);
 }else {
  return false;
 }
 obj1.value = startDate.getFullYear()+"-"+ (startDate.getMonth()<9 ? "0" : "")+(startDate.getMonth()+1) + "-" + (startDate.getDate()<10 ? "0" : "")+startDate.getDate();
 obj2.value = endDate.getFullYear()+"-"+ (endDate.getMonth()<9 ? "0" : "")+(endDate.getMonth()+1) + "-" + (endDate.getDate()<10 ? "0" : "")+endDate.getDate();
 return false;
}


/**********************
* 시작날짜와 종료일자를 기간만큼 넣어주는 함수(카드 전용-양편넣기)
* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function onClickSetDate3(obj1, obj2, term) {
 var reg = /([0-9]+)([d|m])/g;
 var res = reg.exec(term);
 if(res == null) {
  return false;
 }
 var termCnt = parseInt(res[1], 10);
 var termStr = res[2];
 var endDate = new Date();
 var startDate = null;
 if(termStr == "d") {
    termCnt = (termCnt > 0) ? termCnt-1 : 0;
  startDate = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate()-termCnt);
 }else if(termStr == "m") {
  startDate = new Date(endDate.getFullYear(), endDate.getMonth()-termCnt, endDate.getDate()+1);
 }else {
  return false;
 }
 obj1.value = startDate.getFullYear()+"-"+ (startDate.getMonth()<9 ? "0" : "")+(startDate.getMonth()+1) + "-" + (startDate.getDate()<10 ? "0" : "")+startDate.getDate();
 obj2.value = endDate.getFullYear()+"-"+ (endDate.getMonth()<9 ? "0" : "")+(endDate.getMonth()+1) + "-" + (endDate.getDate()<10 ? "0" : "")+endDate.getDate();
 return false;
}

/**********************
* 이번달(이번달 1일부터 오늘)/지난달(지난달 1일부터 말일) 기간만큼 넣어주는 함수(카드 전용-양편넣기)
* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function onClickSetDate4(obj1, obj2, term, gubun) {
 var reg = /([0-9]+)([d|m])/g;
 var res = reg.exec(term);
 if(res == null) {
  return false;
 }
 var termCnt = parseInt(res[1], 10);
 var termStr = res[2];
 var endDate = new Date();
 var startDate = null;
 if(termStr == "d") {
    termCnt = (termCnt > 0) ? termCnt-1 : 0;
  startDate = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate()-termCnt);
 }else if(termStr == "m") {
  startDate = new Date(endDate.getFullYear(), endDate.getMonth()-termCnt, 1);
 }else {
  return false;
 }
 
 var lastDate = (new Date(startDate.getFullYear(),(startDate.getMonth()<9 ? "0" : "")+(startDate.getMonth()+1),0)).getDate();
 
 if(gubun == "tm"){ 
 	obj1.value = endDate.getFullYear()+"-"+ (endDate.getMonth()<9 ? "0" : "")+(endDate.getMonth()+1) + "-0" + 1; 
 	obj2.value = endDate.getFullYear()+"-"+ (endDate.getMonth()<9 ? "0" : "")+(endDate.getMonth()+1) + "-" + (endDate.getDate()<10 ? "0" : "")+endDate.getDate(); 
 }else if(gubun == "lm"){ 
 	obj1.value = startDate.getFullYear()+"-"+ (startDate.getMonth()<9 ? "0" : "")+(startDate.getMonth()+1) + "-0" + 1;
 	obj2.value = startDate.getFullYear()+"-"+ (startDate.getMonth()<9 ? "0" : "")+(startDate.getMonth()+1) + "-" + lastDate ;
 }
  
 return false;
}



/**********************
* 시작날짜와 종료일자를 기간만큼 넣어주는 함수(단편넣기)
* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function onClickSetDateS(fromObj, toObj, termDay, termMonth) {


    var reg = /([-]*[0-9]+)([d|m])/g;

    var today = new Date();
    var preDay, resDay, resMonth, yyyy, mm, dd;
    /*if(toObj.value == "")
    {
        yyyy    = today.getYear();
        mm      = today.getMonth()+1;
        dd      = today.getDate();
    }
    else
    {
        yyyy    = toObj.value.substring(0, 4);
        mm      = parseInt(toObj.value.substring(4, 6), 10);
        dd      = toObj.value.substring(6, 8);
    }*/
    //yyyy    = today.getYear(); // 2013.03.15 장차법
    yyyy    = today.getFullYear();
    mm      = today.getMonth()+1;
    dd      = today.getDate();



    var fromyyyy    = "";
    var frommm    = "";
    var fromdd    = "";

    dd = (dd<10)?'0'+dd:dd;
    mm = (mm<10)?'0'+mm:mm;


    toObj.value = yyyy + "" + mm + "" + dd;

    var cDate;

    /* 일자만 넣고 달을 넣지 않았을 때 */
    if(termDay != "" && termMonth == undefined)
    {
        resDay = reg.exec(termDay);
        cDate = addDay(yyyy, mm, dd, (parseInt(resDay[1])*-1));

    } /* 달만 빼기를 했을 때 */
    else if(termDay == "" && termMonth != undefined && termMonth != "")
    {
        resMonth = reg.exec(termMonth);

        cDate        = addMonth(yyyy, mm, dd, (parseInt(resMonth[1])*-1));
        fromyyyy     = cDate.getFullYear();
        frommm       = (cDate.getMonth()+1);
        fromdd       = cDate.getDate();
        /* 이전 달의 경우에는 한달을 뺀 다음에 하루를 더 더해야함 */
        /* cDate        = addDay(fromyyyy, frommm, fromdd, 1) */
    }

    fromyyyy = cDate.getFullYear();
    frommm = (cDate.getMonth()+1);
    fromdd = cDate.getDate();

    frommm = (frommm<10)?'0'+frommm:frommm;
    fromdd = (fromdd<10)?'0'+fromdd:fromdd;


    fromObj.value =  ""+fromyyyy + ""+frommm + ""+fromdd;

}


/**********************
* 시작날짜와 종료일자를 기간만큼 넣어주는 함수(양편넣기)
* @param : 원천 문자열
* @param : 반환하고자하는 문자열 길이
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function onClickSetDateB(fromObj, toObj, termDay, termMonth) {
    fromObj.value = "";
    toObj.value = "";
    onClickSetDateS(fromObj, toObj, termDay, termMonth);
    /* 하루를 더 더해줌 */
    onClickSetDateS(fromObj, fromObj, '-1d');

}


/**********************
* 달의 마지막 일자를 가져오는 함수
*  ex : getLastDay('2009', '01');
* @param : yyyy 기준년
* @param : mm   월
* @return : 마지막 일자
* @see
************************/
function getLastDay(x1,x2){  /*  년,월 을 입력하면 마지막 날을 가져온다. */
    var rtn = "";
    var tempDate = new Date(x1,x2,1);
    tempDate.setDate(0);
    rtn = tempDate.getDate();
    return rtn;
}

/**********************
* 이전일자를 가져오는 함수
*  ex : getPrevDate('20081011', 1d); 어제
* @param : yyyymmdd 기준년월일
* @param : term   이전일자의 수
* @return : 오른쪽에 '0'이 문자열의 길이(strlen)만큼 채워진 문자열 반환
* @see
************************/
function getPrevDate(yyyymmdd, term) {
    var yyyy;
    var mm;
    var dd;
    if ( yyyymmdd.length != 8  ){

        var today = new Date();
        //yyyy = today.getYear(); // 2013.03.15 장차법
        yyyy = today.getFullYear();
        mm = today.getMonth()+1 ;
        dd = today.getDate() ;
        dd = (dd<10)?'0'+dd:''+dd;
        mm = (mm<10)?'0'+mm:''+mm;
    }else{
        yyyy = yyyymmdd.substring(0, 4);
        mm = yyyymmdd.substring(4, 6);
        dd = yyyymmdd.substring(6, 8);
    }


    myDate = new Date();
    myDate.setFullYear(yyyy);
    myDate.setMonth(mm-1);
    myDate.setDate(dd);

    if(term.charAt(term.length-1) == 'd'){
        term = term.substring(0, term.length-1);
        myDate.setDate(dd - eval(term) );
    }


    if(term.charAt(term.length-1) == 'm'){
        term = term.substring(0, term.length-1);

        if(getLastDay(yyyy,mm) == dd) {
            myDate.setDate('01');
            myDate.setMonth(mm - eval(term));

        } else {
            myDate.setMonth(mm - eval(term) -1);
            myDate.setDate(myDate.getDate() + 1);
        }
    }


    //yyyy = myDate.getYear(); // 2013.03.15 장차법
    yyyy = myDate.getFullYear();
    mm = myDate.getMonth()+1;
    dd = myDate.getDate();

    dd = (dd<10)?'0'+dd:dd;
    mm = (mm<10)?'0'+mm:mm;

    return ("" + yyyy + "" + mm+ "" + dd);
}

/**********************
* 주민 번호 체크 로직
*  ex : validatePsn("1111111111111")
* @param : 주민번호 13자리 스트링값
* @return : boolean
* @see
************************/
function validatePsn(psnno, elem)
{
    var gsJuminNo = "";

    if (psnno == null || psnno == "" || psnno.length != 13)
    {
        if(elem != " undefined") i18nExtAlert(validatePsn_str1,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert(validatePsn_str1);
        return  false;
    }
    else
    {
        /*  숫자가 아닌것이 있으면: false; */
        var numreg = /[^0-9]/g;
        if ( numreg.test(psnno) )/* 숫자 아닌 값이 있는지 체크, 공백,영문,한글,특수기호 모두 체크 */
        {
            if(elem != " undefined") i18nExtAlert(validatePsn_str1,"",null,_fU_localeCode,eval(elem));
            else i18nExtAlert(validatePsn_str1);
            return false;
        }
    }


    /* 외국인일 경우 주민번호 검증 체크를 하지 않는다. (7번째 값이 5,6,7,8,9,0 일경우) */
    if(psnno.substring(6,7) == 0 || (psnno.substring(6,7) >= 5 && psnno.substring(6,7) <=9)) {
    	return true;
    }

   	/*  주민등록 체크섬 검사 
    var psnSumCheckArr = new String("234567892345");
    var psnSum = 0;
    var psnSumResult = "";
    for (var i = 0; i < 13; i++)
    {
        psnSum = psnSum + (psnno.substring(i, i+1) * psnSumCheckArr.substring(i, i+1));
    }
    alert(psnSum);
    psnSumResult = (11 - (psnSum % 11)) % 10;

    if(psnSumResult == psnno.substring(12, 13) )
    {
        delete psnSumCheckArr;
        return true;
    }
    else
    {
        delete psnSumCheckArr;
        if(elem != " undefined") i18nExtAlert(validatePsn_str1,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert(validatePsn_str1);
        return false;
    }
    */
    return true;
}




/**********************
* 이메일 체크 함수
*  ex : validateEmail("aaaa@empas.com")
* @param : 이메일 스트링값
* @return : boolean
* @see
************************/
function validateEmail(varemail,elem)
{
    /* var emailReg = /^([A-Za-z0-9]{0,1})([A-Za-z0-9]{1,15})([A-Za-z0-9\\_.-]{0,1})([A-Za-z0-9]{1,15})([A-Za-z0-9]{0,1})(@{1})([A-Za-z0-9_]{1,15})(.{1})([A-Za-z0-9_]{2,10})(.{1}[A-Za-z]{2,10})?(.{1}[A-Za-z]{2,10})?$/; */
    var emailReg = /^((\w|[\-\.])+)@((\w|[\-\.])+)\.([A-Za-z]+)$/;

    if ( !emailReg.test(varemail) )
    {
        if(elem != undefined) i18nExtAlert(validateEmail_str,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert(validateEmail_str,"",null,_fU_localeCode);
        return false;
    }
    return true;
}

/**********************
* 사업자 번호 체크
*  ex : validateCrn("1111111111")
* @param : 사업자번호 스트링값
* @return : boolean
* @see
************************/
function validateCrn(crn, elem)
{
    if(crn.length != 10)
    {
        if(elem != "undefined") i18nExtAlert(validateCrn_str1,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert(validateCrn_str1);
        return false;
    }
    var sum = 0;
    var getlist =new Array(10);
    var chkvalue =new Array("1","3","7","1","3","7","1","3","5");

    for (var i=0;i<10;i++)
        getlist[i] = crn.substring(i,i+1);

    for (var i=0;i<9;i++)
        sum += getlist[i]*chkvalue[i];

    sum = sum +parseInt((getlist[8]*5)/10) ;
    var sidliy = sum%10;
    var sidchk = 0;

    if( sidliy != 0 )
        sidchk = 10 - sidliy;
    else
        sidchk = 0;

    delete chkvalue;
    if( sidchk != getlist[9] )
    {
        delete getlist;
        if(elem != undefined) i18nExtAlert(validateCrn_str1,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert(validateCrn_str1);
        return false;
    }
    delete getlist;
    return true;

}


/**********************
* 주민 사업자 번호 체크
*  ex : validatePsnCrn("1111111111") or validatePsnCrn("1111111111111")
* @param : 주민 사업자번호 스트링값
* @return : boolean
* @see
************************/
function validatePsnCrn(data,elem)
{
    data = getOnlyNumberFormat(data);/* 숫자만 입력 받기. */
    if(data.length == 13)
    {
        return validatePsn(data,elem);
    } else if(data.length == 10)
    {
        return validateCrn(data,elem);
    } else
    {
        if(elem != undefined) i18nExtAlert(validatePsnCrn_str,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert(validatePsnCrn_str);
        return false;
    }
}

/**********************
* 8자리 날짜 체크 로직
*  ex : validateDate8("20050822")
* @param : 8자리 날짜 스트링
* @return : boolean
* @see
************************/

function validateDate8(cDate,elem)
{
    if(cDate.length != 8)
    {
        /* i18nAlert(validateDate8_str1); */
        /* i18nExtAlert( validateDate8_str1); //alert 메세지 함수 호출 */
        if(elem != undefined) i18nExtAlert( validateDate8_str1,"",null,_fU_localeCode,eval(elem));
        else {
        	if("EN" == _fU_localeCode){
        		i18nExtAlert( validateDate8_str1, "", "", "EN");
        	}else{
        		i18nExtAlert( validateDate8_str1);
        	}
        }
        return false;
    }
    var yyyy = cDate.substring(0, 4);
    var mm = cDate.substring(4, 6) - 1;/* 12월일 경우 날짜 생성해서 보면 getMonth()로 보면 0으로 리턴되므로 1을 빼준다. */
    var dd = cDate.substring(6);
    var checkDate = new Date(yyyy, mm, dd);

    if ( checkDate.getFullYear() != yyyy ||    checkDate.getMonth() != mm || checkDate.getDate() != dd)
    {
        delete checkDate;
        /* i18nAlert(validateDate8_str2); */
        if(elem != undefined) i18nExtAlert( validateDate8_str2,"",null,_fU_localeCode,eval(elem));
        else {
        	if("EN" == _fU_localeCode){
        		i18nExtAlert( validateDate8_str2, "", "", "EN");
        	} else {
        		i18nExtAlert( validateDate8_str2);
        	}
        }
        /* i18nExtAlert( validateDate8_str2); //alert 메세지 함수 호출 */
        return false;
    }
    delete checkDate;
    return true;

}


/**********************
* 8자리 날짜 체크 로직
*  ex : validateDate8("20050822")
* @param : 8자리 날짜 스트링
* @return : boolean
* @see
************************/

function validateDate8_CMessage(cDate,CMessage,elem)
{
    if(cDate.length != 8) 
    {
        /* i18nAlert(validateDate8_str1); */
        /* i18nExtAlert( validateDate8_str1); //alert 메세지 함수 호출 */
        if(elem != undefined) {
        	i18nExtAlert( validateDate8_str1,"",null,_fU_localeCode,eval(elem));
        //영문웹분기 
        }else if("EN" == _fU_localeCode){
        	i18nExtAlert( CMessage +" "+validateDate8_str1, "", "", "EN");
        }else {
        	i18nExtAlert( CMessage +"의 "+validateDate8_str1);        
        }
        return false;
    }
    var yyyy = cDate.substring(0, 4);
    var mm = cDate.substring(4, 6) - 1;/* 12월일 경우 날짜 생성해서 보면 getMonth()로 보면 0으로 리턴되므로 1을 빼준다. */
    var dd = cDate.substring(6);
    var checkDate = new Date(yyyy, mm, dd);

    if ( checkDate.getFullYear() != yyyy ||    checkDate.getMonth() != mm || checkDate.getDate() != dd)
    {
        delete checkDate;
        /* i18nAlert(validateDate8_str2); */
        if(elem != undefined) {
        	i18nExtAlert( validateDate8_str2,"",null,_fU_localeCode,eval(elem));
        }else if("EN" == _fU_localeCode){
        	i18nExtAlert( CMessage +" "+validateDate8_str1, "", "", "EN");
        }else{
        	i18nExtAlert( CMessage +"의 " + validateDate8_str2);
        }
        /* i18nExtAlert( validateDate8_str2); //alert 메세지 함수 호출 */
        return false;
    }
    delete checkDate;
    return true;

}

/**********************

* 6자리 날짜 체크 로직 (YYYYMM) - 년도, 월
*  ex : validateDate8("200508")

* @param : 6자리 날짜 스트링
* @return : boolean
* @see
************************/

function validateDate6(cDate,elem)
{ 
    if(cDate.length != 6)
    {
        /* i18nAlert(validateDate8_str1); */
        i18nExtAlert( validateDate8_str1); /* alert 메세지 함수 호출 */
        if(elem != undefined) i18nExtAlert( validateDate8_str1,"",null,_fU_localeCode,eval(elem));
        else{ 
        	if("EN" == _fU_localeCode){
        		i18nExtAlert( validateDate8_str1, "", "", "EN");
        	}else{
        		i18nExtAlert( validateDate8_str1);
        	}
        }
        return false;
    }
    var yyyy = cDate.substring(0, 4);
    var mm = cDate.substring(4, 6) - 1;/* 12월일 경우 날짜 생성해서 보면 getMonth()로 보면 0으로 리턴되므로 1을 빼준다. */
    var checkDate = new Date(yyyy, mm);

    if ( checkDate.getFullYear() != yyyy ||    checkDate.getMonth() != mm)
    {
        delete checkDate;
        if(elem != undefined) i18nExtAlert( validateDate8_str2,"",null,_fU_localeCode,eval(elem));
        else i18nExtAlert( validateDate8_str2);
        /* i18nExtAlert( validateDate8_str2); //alert 메세지 함수 호출 */
        return false;
    }
    delete checkDate;
    return true;

}

/**********************

* 계좌 체크 로직(현재 길이만 체크하고 있음)
*  ex : validateAccount("111111111111")

* @param : 계좌 번호
* @return : boolean
* @see
************************/
function validateAccount(acc)
{
    if(acc.length != 12)
    {
        i18nAlert(validateAccount_str);
        return false;
    }
    return true;
}


/**********************
* 계좌 비밀번호 로직(현재 길이만 체크하고 있음)
*  ex : validateAccountPassword("1111")
* @param : 계좌 번호
* @return : boolean
* @see
************************/
function validateAccountPassword(pass)
{
    if(pass.length != 4)
    {
        i18nAlert(validateAccountPassword_str);
        return false;
    }
    return true;
}



/**********************
* 스크립트로 제어하는 대분류,중분류에 사용하는 셀렉트 박스 컨트롤
*  ex : dynamicChangeSelectBox(this,form1.targetname,target에들어갈array,true)
* @param : 이 스크립트를 실행하는 select box 객체
* @param : 이 객체의 onchange 이벤트에 의해 제어될 타겟 select box 객체 name
* @param : 타켓 셀렉트 박스에 조건에 따라서 들어갈 옵션이 들어있는 javascript array 객체명
* @param : 선택하세요.. 사용 여부
* @return : void
* @see
************************/
function dynamicChangeSelectBox(select,target,resultSet,nulluse,basicOption,selected)
{
    var upperState = "";
    if (select.upperValue != undefined)
        upperState = select.upperValue;

    var selectValue = "";

    if(upperState != "")
        selectValue = upperState+"_"+select.value;
    else
        selectValue = select.value;

    while(target.length > 0)
    {
        target.removeChild(target.children[0]);
    }

    if(nulluse == true)
    {
        var option = document.createElement("OPTION");
        option.text= dynamicChangeSelectBasicOpt;
        if(basicOption != undefined) {option.text=basicOption;}
        option.value="";
        target.add(option);
    }

    if(resultSet[selectValue] != undefined )
    {
        var selectArray = resultSet[selectValue];

        if(selectArray.length != 0)
        {

            for(var t = 0 ; t < selectArray.length ; t++)
            {
                var option = new Option();
                option.value=selectArray[t][0];
                option.text=selectArray[t][1];

                target.add(option);

                if(option.value == selected && selected != 'undefined' && selected != undefined && selected != '' && selected != null ) {
					target[target.length-1].selected = true;
   				}
            }
        }

    }

    target.upperValue = selectValue;/* 방금 선택한 셀렉트 박스 값과 대분류를 통해서 왔을때의 값을 대상에 심어놓음으로서 키의 중복을 방지 */

    if(target.onchange != null)
        target.onchange();

}

<!-- 위쪽까지 formValidation의 내용입니다. -->

/**********************
* 특수문자 있는지 확인하는 함수
*  ex : isSChar("...");
* @param : 특수문자가 포함된 문자열
* @return : boolean
* @see
************************/
function isSChar(fullstr){

    for(var i=0; i < fullstr.length; i++) {

        var str = substr(fullstr, i, 1);

        if ( str != NULL && length(str) > 0){
            if( IndexOf(str, "`") >= 0 ) return false;
            if( IndexOf(str, "~") >= 0 ) return false;
            if( IndexOf(str, "!") >= 0 ) return false;
            if( IndexOf(str, "@") >= 0 ) return false;
            if( IndexOf(str, "#") >= 0 ) return false;
            if( IndexOf(str, "$") >= 0 ) return false;
            if( IndexOf(str, "%") >= 0 ) return false;
            if( IndexOf(str, "^") >= 0 ) return false;
            if( IndexOf(str, "&") >= 0 ) return false;
            if( IndexOf(str, "*") >= 0 ) return false;
            if( IndexOf(str, "(") >= 0 ) return false;
            if( IndexOf(str, ")") >= 0 ) return false;
            if( IndexOf(str, "-") >= 0 ) return false;
            if( IndexOf(str, "_") >= 0 ) return false;
            if( IndexOf(str, "+") >= 0 ) return false;
            if( IndexOf(str, "=") >= 0 ) return false;
            if( IndexOf(str, "|") >= 0 ) return false;
            if( IndexOf(str, "[") >= 0 ) return false;
            if( IndexOf(str, "]") >= 0 ) return false;
            if( IndexOf(str, "{") >= 0 ) return false;
            if( IndexOf(str, "}") >= 0 ) return false;
            if( IndexOf(str, ":") >= 0 ) return false;
            if( IndexOf(str, ";") >= 0 ) return false;
            if( IndexOf(str, "<") >= 0 ) return false;
            if( IndexOf(str, ">") >= 0 ) return false;
            if( IndexOf(str, "?") >= 0 ) return false;
            if( IndexOf(str, ",") >= 0 ) return false;
            if( IndexOf(str, ".") >= 0 ) return false;
            if( IndexOf(str, "/") >= 0 ) return false;
        }

    }


    return true;
}

/**********************
* 특수문자가 있는지 확인하는 함수 (언더바와 대쉬는 사용 가능)
*  ex : isSpeChar("...");
* @param : 특수문자가 포함된 문자열
* @return : boolean
* @see
************************/
function isSpeChar(fullstr){

	var vPtn = /[`~!@\#$%^&*\(\)+\=|\\\{\}\[\]:;\'\",.<>\/?]/gi;
	
	if(vPtn.test(fullstr)){
		return false;
	}else{
		return true;
	}
}



/**********************
* 알파벳 대문자, 숫자, 특수문자(- ? : ( ) . ,' +) 있는지 확인하는 함수
*  ex : isSChar("...");
* @param : 특수문자가 포함된 문자열
* @return : boolean
* @see
************************/
function isChkSChar(fullstr){

    for(var i=0; i < fullstr.length; i++) {

        var str = substr(fullstr, i, 1);

        if ( str != NULL && length(str) > 0){
            if( IndexOf(str, "`") >= 0 ) return false;
            if( IndexOf(str, "~") >= 0 ) return false;
            if( IndexOf(str, "!") >= 0 ) return false;
            if( IndexOf(str, "@") >= 0 ) return false;
            if( IndexOf(str, "#") >= 0 ) return false;
            if( IndexOf(str, "$") >= 0 ) return false;
            if( IndexOf(str, "%") >= 0 ) return false;
            if( IndexOf(str, "^") >= 0 ) return false;
            if( IndexOf(str, "&") >= 0 ) return false;
            if( IndexOf(str, "*") >= 0 ) return false;
            /* if( IndexOf(str, "(") >= 0 ) return false; */
            /* if( IndexOf(str, ")") >= 0 ) return false; */
            /* if( IndexOf(str, "-") >= 0 ) return false; */
            if( IndexOf(str, "_") >= 0 ) return false;
            /* if( IndexOf(str, "+") >= 0 ) return false; */
            if( IndexOf(str, "=") >= 0 ) return false;
            if( IndexOf(str, "|") >= 0 ) return false;
            if( IndexOf(str, "[") >= 0 ) return false;
            if( IndexOf(str, "]") >= 0 ) return false;
            if( IndexOf(str, "{") >= 0 ) return false;
            if( IndexOf(str, "}") >= 0 ) return false;
            /* if( IndexOf(str, ":") >= 0 ) return false; */
            if( IndexOf(str, ";") >= 0 ) return false;
            /* if( IndexOf(str, "'") >= 0 ) return false; */
            if( IndexOf(str, '"') >= 0 ) return false;
            if( IndexOf(str, "<") >= 0 ) return false;
            if( IndexOf(str, ">") >= 0 ) return false;
            /* if( IndexOf(str, "?") >= 0 ) return false; */
            /* if( IndexOf(str, ",") >= 0 ) return false; */
            /* if( IndexOf(str, ".") >= 0 ) return false; */
            if( IndexOf(str, "/") >= 0 ) return false;
        }

    }


    return true;
}


/**********************
* 값의 길이가 자리수와 같은지? focus 이동
*  ex : isLengthAndMoveFocus(this,3,document.IES5701P_1.numNO2)
* @param : 비교할 첫번째 문자열
* @param : 길이
* @param : 비교할 두번째 문자열
* @return : void
* @see
************************/
function isLengthAndMoveFocus(obj1,length,obj2) {

    if(isLength(obj1,length)) obj2.focus();

}

/**********************
* 값의 길이가 자리수와 같은지?
*  ex : isLength(this,3)
* @param : 비교할 첫번째 문자열
* @param : 길이
* @return : void
* @see
************************/
function isLength(obj, length) {

    if ( obj.value.length == length ) {
        return  true;
        } else {
        return false;
    }
}

/**********************
* 키값을 체크함(엔터키 입력시 ValidateForm실행)
*  ex :
* @param :
* @return : void
* @see
************************/
function check_key(event) {
    event = checkEvent(event);  /* 이벤트 값 가져오기 */
    if(event.which == 13) ValidateForm();
}

/**********************
* 사업자 번호 masking
*  ex :
* @param : 사업자번호
* @return : void
* @see
************************/
function makeBzNo(str){
    var strLeft = "";
    var strCenter ="";
    var strRight = "";
    var strReturn = "";

    if( str.substring(0,3) == "999" ){
        strLeft = str.substring(3,6);
        strCenter = str.substring(6,8);
        strRight = str.substring(8,13);
    }
    else{
        strLeft = str.substring(0,3);
        strCenter = str.substring(3,5);
        strRight = str.substring(5,10);
    }
    strReturn = strLeft + "-" + strCenter  + "-" + strRight;

    document.write(strReturn);
}

/**********************
* 주민/사업자 번호 masking
*  ex :
* @param : 사업자번호
* @return : void
* @see
************************/
function makeBzNo2(str){
    var strLeft = "";
    var strCenter ="";
    var strRight = "";
    var strReturn = "";

    if( str.substring(0,3) == "999" ){
        strLeft = str.substring(3,6);
        strCenter = str.substring(6,8);
        strRight = str.substring(8,13);

        strReturn = strLeft + "-" + strCenter  + "-" + strRight;
    }
    else{
        strLeft = str.substring(0,6);
        strRight = str.substring(6,13);
        strReturn = strLeft + "-"  + strRight;
    }

    document.write(strReturn);
}

/**********************
* 법인,계약번호 masking
*  ex :
* @param : 법인,계약번호
* @param : 왼쪽자리수
* @param : 오른쪽자리수
* @return : void
* @see
************************/
function makeCorpNo(str, left, right){
    var strLeft ="";
    var strRight = "";
    var strReturn = "";

    strLeft = str.substring(0, left);
    strRight = str.substring(left, left + right);

    strReturn = strLeft + "-" + strRight;

    document.write(strReturn);

}


/**********************
* 대출번호 masking
*  ex :
* @param : 법인,계약번호
* @param : 왼쪽자리수
* @param : 중간자리수
* @param : 오른쪽자리수
* @return : void
* @see
************************/
function makeLendNo(str, left, mid, right){
    var strLeft ="";
    var strMid ="";
    var strRight = "";

    var strReturn = "";

    strLeft = str.substring(0, left);
    strMid = str.substring(left, left + mid);
    strRight = str.substring(left + mid, left + mid + right);

    strReturn = strLeft + "-" + strMid + "-" + strRight;

    document.write(strReturn);

}

/**********************
* 대출번호 masking2(return 용)
* @param : 법인,계약번호
* @param : 왼쪽자리수
* @param : 중간자리수
* @param : 오른쪽자리수
* @return : 마스킹처리된 법인번호 및 계약번호
* @see
************************/
function makeLendNo2(str, left, mid, right){
    var strLeft ="";
    var strMid ="";
    var strRight = "";

    var strReturn = "";

    strLeft = str.substring(0, left);
    strMid = str.substring(left, left + mid);
    strRight = str.substring(left + mid, left + mid + right);

    strReturn = strLeft + "-" + strMid + "-" + strRight;

    return strReturn;

}

/**********************
* 현재일과 만기일을 인수로 받아서 현재일보다 과거인지 검사한다.
*  ex : checkTerm("20061025","20071031")4",3)
* @param : 조회 시작일(yyyymmdd)
* @param : 조회 기간(yyyymmdd)
* @return : boolean
* @see
************************/
function checkTerm(fdate,tdate)
{
    return amtRegExp(fdate)<=amtRegExp(tdate);
}


/**********************
* 날짜 비교 함수
*  ex : checkTerm("20061025","20071031")4",3)
* @param : 조회 시작일(yyyymmdd)
* @param : 조회 기간(yyyymmdd)
* @return : int
* @see
************************/
function compareDate(strParam1, strParam2) {
    var dateParam1, dateParam2;
    if(strParam1.length == 10) strParam1 =     strParam1.substring(0,4) + strParam1.substring(5,7) + strParam1.substring(8,10);
    if(strParam2.length == 10) strParam2 =     strParam2.substring(0,4) + strParam2.substring(5,7) + strParam2.substring(8,10);
    dateParam1 = new Date(strParam1.substring(0,4), strParam1.substring(4,6), strParam1.substring(6,8), 0, 0, 0, 0);
    dateParam2 = new Date(strParam2.substring(0,4), strParam2.substring(4,6), strParam2.substring(6,8), 0, 0, 0, 0);
    return dateParam1 - dateParam2;
}

/**********************
* 폼의 객체에 금액을 넣는 함수
*  ex : fillMoney("frm1","money")
* @param : form이름
* @param : Object명
* @return : Object명
* @see
************************/
function fillMoney(elmNm, money)
{
    var ele;

    ele = document.getElementsByName(elmNm);

    ele.value = money;
}
/**********************
* 체크박스상태를 반환하는 함수
*  ex : isChecked("money")
* @param : Object명
* @return : boolean
* @see
************************/
function isChecked(eleName)
{
    var collection = document.getElementsByName(eleName);
    for(var i=0; i<collection.length; i++)
    {
        if(collection[i].checked)
        {
            return true;
        }
    }

    return false;
}

/**********************
* 체크박스에 체크로 세팅하는 함수
*  ex : setChecked("money")
* @param : Object명
* @return : void
* @see
************************/
function setChecked(eleName)
{
    var collection = document.getElementsByName(eleName);
    for(var i=0; i < collection.length; i++)
    {
        collection[i].checked = true;
    }
}

/**********************
* 체크박스에 체크로 해제하는 함수
*  ex : removeChecked("money")
* @param : Object명
* @return : void
* @see
************************/
function removeChecked(eleName)
{
    var collection = document.getElementsByName(eleName);
    for(var i=0; i<collection.length; i++)
    {
        collection[i].checked = false;
    }
}

/**********************
* 문자열 치환 스크립트
*  ex : stringMask("***-****-****", 9, 13, '*')
* @param : orgStr 변환전 문자열
* @param : strPos 변환될 처음위치
* @param : endPos 변환될 마지막위치
* @param : replaceChar 치환문자(1자가능)
* @return : str  치환된 문자열
* @see
************************/
function stringMask(orgStr, strPos, endPos, replaceChar)
{
    var chgStr = "";
    var strLen = orgStr.length;
    /* alert('strLen = [' + strLen + ']'); */

    if(orgStr == undefined || orgStr == "")
    {
        return orgStr;
    }
    else if(replaceChar == undefined || replaceChar == "")
    {
        return orgStr;
    }
    else if(strLen < strPos)
    {
        return orgStr;
    }
    else if(strLen < endPos)
    {
        return orgStr;
    }
    else if(strPos > endPos)
    {
        return orgStr;
    }

    chgStr = orgStr.substring(0, strPos);

    for(var idx = 0;idx < (endPos - strPos);idx++)
    {
        chgStr = chgStr + replaceChar;
    }

    chgStr = chgStr + orgStr.substring(endPos, strLen);
    return chgStr;
}
/**********************
* 이메일 합치기
*  ex : concatEmail('poo97', 'aaa.co.kr')
* @param : id
* @param : address
* @return : String 이메일주소
* @see
************************/
function concatEmail(id, address)
{
    if(id == "" || address == "")
    {
        return "";
    }
    var email = id+"@"+address;
    return email;
}

/**********************
* 이메일 나누기
*  ex : splitEmail('poo97@aaa.co.kr')
* @param : email address
* @return : Array  (poo97, aaa.co.kr)
* @see
************************/
function splitEmail(email)
{
    var emailArr = new Array(2);
    var atPos, emaillen;
    emaillen = email.length;

    /* 입력되는 이메일 값이 없거나 이메일의 길이가 5미만이면 에러발생 */
    if(email == "" && email.length < 4)
    {
        return "";
    }

    atPos = email.indexOf("@");

    emailArr[0] = email.substring(0, atPos);
    emailArr[1] = email.substring(atPos + 1, emaillen);


    return emailArr;

}
/**********************
* 전화번호 합치기
*  ex : concatPhoneNum('111','111','111', '')
*  ex : concatPhoneNum('111','111','111', '-')
* @param : num1, num2, num3, conatCharecter
* @return : String 전화번호
* @see
************************/
function concatPhoneNum(num1, num2, num3, hyphen)
{
    var phoneNum;
    if(num1 == "" || num2 == "" || num3 == "")
    {
        return "";
    }

    if(hyphen == "")
    {
        phoneNum = num1 + num2 + num3;
    }
    else
    {
        phoneNum = num1 + hyphen + num2 + hyphen + num3;
    }

    return phoneNum;
}
/**********************
* 전화번호 나누기
*  ex : splitPhoneNum('021113333')
*  ex : splitPhoneNum('0211113333')
*  ex : splitPhoneNum('0512223333')
*  ex : splitPhoneNum('05122223333')
* @param : phonenum 전화번호
* @return : Array  (지역번호, 국번, 전화번호)
* @see
************************/
function splitPhoneNum(phonenum)
{

/*
   2-3-4  9    9자리 타입
   2-4-4  10   10자리 A타입
   3-3-4  10   10자리 B타입
   3-4-4  11   11자리 타입
*/

    var phonelen = phonenum.length;
    var splitNum = new Array(3);

    if(phonenum == "")
    {
        return "";
    }


    if(phonelen < 9)
    {
        return "";
    }
    else if(phonelen == 9)
    {
        if(phonenum.substring(0, 2) == "02")
        {
            splitNum[0] = phonenum.substring(0, 2);
            splitNum[1] = phonenum.substring(2, 5);
            splitNum[2] = phonenum.substring(5, 9);
        }
    }
    else if(phonelen == 10)
    {
        if(phonenum.substring(0, 2) == "02")
        {
            splitNum[0] = phonenum.substring(0, 2);
            splitNum[1] = phonenum.substring(2, 6);
            splitNum[2] = phonenum.substring(6, 10);
        }
        else
        {
            splitNum[0] = phonenum.substring(0, 3);
            splitNum[1] = phonenum.substring(3, 6);
            splitNum[2] = phonenum.substring(6, 10);
        }
    }
    else if(phonelen == 11)
    {
        splitNum[0] = phonenum.substring(0, 3);
        splitNum[1] = phonenum.substring(3, 7);
        splitNum[2] = phonenum.substring(7, 11);
    }


    return splitNum;
}


/**********************
* 주민번호 나누기
*  ex : splitSsn('790111*******')
*  ex : splitSsn('790111-*******')
* @param : ssn 주민번호
* @return : Array  (생년월일,주민번호)
* @see
************************/
function splitSsn(ssn)
{
    var ssnLen = ssn.length;
    var splitSsn = new Array(2);
    var chgSsn;

    if(ssn == "")
    {
        return "";
    }
    else if(ssnLen < 13 || ssnLen > 14)
    {
        return "";
    }

    if(ssnLen == 13)
    {
        splitSsn[0] = ssn.substring(0,6);
        splitSsn[1] = ssn.substring(6,13);
    }

    if(ssnLen == 14)
    {
        splitSsn[0] = ssn.substring(0,6);
        splitSsn[1] = ssn.substring(7,14);
    }

    return splitSsn;


}
/**********************
* 주민번호 합치기
*  ex : concatSsn('790111', '*******', '-')
* @param : ssn1 주민번호앞 6자리
* @param : ssn2 주민번호뒤 7자리
* @return : str  '-'가 포함된 주민번호
* @see
************************/
function concatSsn(ssn1, ssn2, hyphen)
{
    var ssnStr;
    if(ssn1 == "" || ssn2 == "")
    {
        return "";
    }

    if(hyphen == "")
    {
        ssnStr = ssn1 + ssn2;
    }
    else
    {
        ssnStr = ssn1 + hyphen + ssn2;
    }

    return ssnStr;
}

/**********************
* 카드번호 나누기
*  ex : splitCardNo('1111222233334444')
* @param : ssn 주민번호
* @return : Array  (생년월일,주민번호)
* @see
************************/
function splitCardNo(cardno)
{
    var cardnoLen = cardno.length;
    var splitCardNo = new Array(4);
    var chgcardNo;

    if(cardno == "")
    {
        return "";
    }
    else if(cardnoLen != 16)
    {
        return "";
    }

    splitCardNo[0] = cardno.substring(0,4);
    splitCardNo[1] = cardno.substring(4,8);
    splitCardNo[2] = cardno.substring(8,12);
    splitCardNo[3] = cardno.substring(12,16);

    return splitCardNo;

}
/**********************
* 카드번호 합치기
*  ex : concatCardNo('1111', '2222', '3333', '4444',  '-')
* @param : cardno1 카드번호 첫번째 4자리
* @param : cardno2 카드번호 두번째 4자리
* @param : cardno3 카드번호 세번째 4자리
* @param : cardno4 카드번호 네번째 4자리
* @return : str  '-'가 포함된 카드번호
* @see
************************/
function concatCardNo(cardno1, cardno2, cardno3, cardno4, hyphen)
{
    var cardnoStr;
    if(cardno1 == "" || cardno2 == "" || cardno3 == "" || cardno4 == "")
    {
        return "";
    }

    if(hyphen == "")
    {
        cardnoStr = cardno1 + cardno2 + cardno3 + cardno4;
    }
    else
    {
        cardnoStr = cardno1 + hyphen + cardno2 + hyphen + cardno3 + hyphen + cardno4;
    }

    return cardnoStr;
}

/**********************
* 전화번호 마스킹
*  ex : maskPhoneNum("022223333")
*  ex : maskPhoneNum("0512223333")
*  ex : maskPhoneNum("1112223333")
*  ex : maskPhoneNum("11122223333")
* @param : phoneNum 전화번호
* @return : str  '-'가 포함되고 전화번호 마지막 4자리가 마스킹된 전화번호
* @see
************************/
function maskPhoneNum(phoneNum)
{
    var phoneSplitNum = splitPhoneNum(phoneNum);

    if(phoneSplitNum[0] == "" || phoneSplitNum[1] == "")
    {
        return "";
    }

    return concatPhoneNum(phoneSplitNum[0], phoneSplitNum[1], '****', '-');
}


/**********************
* 이메일 마스킹
*  ex : maskEmail("poo@gmail.com")
*  ex : maskEmail("poo@gmail.com")
* @param : email 이메일
* @return : str  id의 앞자리 두자리를 뺀 나머지가 마스킹된 이메일
* @see
************************/
function maskEmail(email)
{
    var emailSplitStr;
    var emailIdLen;

    emailSplitStr = splitEmail(email);

    if(emailSplitStr[0] == "" || emailSplitStr[1] == "")
    {
        return "";
    }

    var emailIdLen = emailSplitStr[0].length;

    if(emailIdLen < 1)
    {
        return "";
    }

    var replaceEmailId = stringMask(emailSplitStr[0], 2, emailIdLen, '*');

    return concatEmail(replaceEmailId, emailSplitStr[1]);

}

/**********************
* 주민번호 마스킹
* @param : ssn 주민번호
* @return : str  주민번호에 '-'가 포함되고 뒷자리 7자리가 마스킹된 문자열
* @see
************************/
function maskSsn(ssn)
{
    var ssnSplitStr = splitSsn(ssn);

    if(ssnSplitStr[0] == "" || ssnSplitStr[1] == "")
    {
        return "";
    }

    return concatSsn(ssnSplitStr[0], '*******', '-');

}

/**********************
* 카드번호 마스킹
*  ex : maskCardNo("1111222233334444")
* @param : cardno 카드번호
* @return : str  카드번호에 '-'가 포함되고 세번째와 네번째 카드번호가 '*'로 마스킹된 함수
* @see
************************/
function maskCardNo(cardno)
{
    var cardnoSplitStr = splitCardNo(cardno);

    if(splitCardNo[0] == "" || splitCardNo[1] == "")
    {
        return "";
    }

    return concatCardNo(cardnoSplitStr[0], cardnoSplitStr[1], '****', '****', '-');

}

/**********************
* 글자 체크
*  ex : onKeyUp="textCheck(f.MG_YJUKY01);"
* @param : 글자 필드
* @return : boolean값
* @see
************************/
function textCheck(textField)
{
    if ( textField.value.indexOf(";") != -1 ) {
        i18nExtAlert(textCheck_str);
        textField.value = "";
        textField.focus();
        return false;
    }
}


/**********************
* 글자 카운팅
*  ex : onKeyUp="textCounter(f.MG_YJUKY01, 9); textCheck(f.MG_YJUKY01);"
* @param : theField 필드명
* @param : maxChars 최대글자수
* @return : boolean값
* @see
************************/
function textCounter(theField,maxChars)
{
    var stKoreanInputYn = false;
    var maxLength = maxChars * 2;
    for (var i = 0; i < theField.value.length; i++)
    {
        var charCode = theField.value.charCodeAt(i);

        if (charCode > 128) {/* 한글일 경우 */
            stKoreanInputYn = true;
        }

        if(stKoreanInputYn){
            if(theField.value.length > maxChars) {
            	theField.blur();
                i18nExtAlertFn(textCounter_str1 + maxChars+ textCounter_str2, '', textCounterSizeCut.createDelegate(this,[theField, maxChars],1), language);
/*                theField.value=theField.value.substring(0,maxLength);
                theField.focus();
                return false;*/
            }
        } else {
            if(theField.value.length > maxLength) {
            	theField.blur();
                i18nExtAlert(textCounter_str3 + maxLength + textCounter_str2, '', textCounterSizeCut.createDelegate(this,[theField, maxChars],1), language);
/*                theField.value=theField.value.substring(0,maxLength);
                theField.focus();
                return false;
*/
            }
        }
    }
}

/**********************
* 글자 카운팅 (textCounter에서 i18nExtAlertFn이 뜬 뒤에 실행되어야할 부분)
* @param : theField 필드명
* @param : maxChars 최대글자수
* @see
************************/
function textCounterSizeCut(btn, theField, maxChars)
{
	theField.value=theField.value.substring(0,maxChars);
    //theField.focus();
    theField.blur();
    return false;
}

/**********************
* function onlyAcctNumber 계좌번호만 입력받음
*  ex : onlyAcctNumber()
* @param :
* @return : boolean
* @see
************************/
function onlyAcctNumber() {
    var re = /([^0-9])/;
    return CKKeyPro_Check(event.srcElement, re);

    var keyCode = event.keyCode ? event.keyCode :
            event.which ? event.which : event.charCode;
    if (keyCode != 13) {
        if( ( keyCode<47 || keyCode>57 ) && keyCode != 45 ) {
            event.returnValue = false;
        }
    }
}

/**********************
* function removeHyphen 날라갈때 하이픈 빼주기
*  ex : removeHyphen(obj)
* @param : 필드명
* @return : 없음
* @see
************************/
function removeHyphen(obj) {
    val = obj.value;

    str = "";
    strr = val.split("-");
    for (i=0;i<strr.length;i++){
        str += strr[i];
    }
    obj.value = str;
}

/**********************
* function formatComma 컴마 넣어줌
*  ex : formatComma(obj)
* @param : 필드명
* @return : 없음
* @see
************************/
function formatComma(tx) {              /* 컴마 삽입 */
    var oldv = "";
    if(oldv == tx.value) return;
    oldv = tx.value;
    tx.value = formatNumber(oldv);
}


/**********************
* function formatNumber(s) 자동으로 콤마 셋팅하기
*  ex : formatComma(obj)
* @param : 필드명
* @return : 컴마가 들어간 str
* @see
************************/
function formatNumber(s)
{
    var str  = s.replace(/\D/g,"");
        var len  = str.length;
        var tmp  = "";
        var tm2  = "";
        var i    = 0;
        while (str.charAt(i) == '0') i++;        //0만 입력되지 않게 하는 곳 삭제. 2003.01.08 신정섭
		if(str.length == i) return "0";
        str = str.substring(i,len);
        len = str.length;
        if(len < 3) {
            return str;
        }
    else {
            var sit = len % 3;
            if (sit > 0) {
                tmp = tmp + str.substring(0,sit) + ',';
                len = len - sit;
            }
            while (len > 3) {
                tmp = tmp + str.substring(sit,sit+3) + ',';
                len = len - 3;
                sit = sit + 3;
            }
            tmp = tmp + str.substring(sit,sit+3) + tm2;
            str = tmp;
        }
        return str;
}


/**********************
 * obj에 입력된 숫자를 targetId을 가진 Element의 값이나 innerText로 한글금액으로 바꾼다.
 * 반드시 keyup에 걸어야함.
 * @param obj - 입력받을 Element (보통 this가 된다.)
 * @param targetName - 한글금액을 보여줄 Tag
 * @param type - 없으면 원단위, 1이면 만단위, 2이면 10만단위
 * @return
 ***********************/
function putHanAmt(obj, targetId, type) {

	if(language != undefined && language != 'KO'){
		return;
	}

    var hanNumber = new Array('영', '일', '이', '삼', '사', '오', '육', '칠', '팔', '구');
    var fourFour = new Array('일', '만', '억', '조');
    var fourDigit = new Array('일', '십', '백', '천');

    var num = obj.value.replace(/\D/g, "");

    /*  한글금액 처리 */
    var delimiter = ' ';
    var endValue = '원';
    var endZValue = '영';

    var bPos = 0; /*  만, 억, 조 */
    var sPos = 0; /*  십, 백, 천 */
    var digit = 0;

    if (type == null) { /*  원단위 */
        bPos = 0; /*  만, 억, 조 */
        sPos = 0; /*  십, 백, 천 */
        endValue = "원";
        endZValue = '원';
    } else if (type == '1') { /*  만단위 */
        bPos = 1; /*  만, 억, 조 */
        sPos = 0; /*  십, 백, 천 */
        endValue = "원";
        endZValue = '영 만원';
    } else if (type == '2') { /*  십만단위 */
        bPos = 1; /*  만, 억, 조 */
        sPos = 1; /*  십, 백, 천 */
        endValue = "만 원";
        endZValue = '영 십만원';
    }

    var szDigit = '';
    var is_start = false;
    var appendFF = false;
    var len = num.length;
    var szHan = '';

    for (i = len - 1; i >= 0; i--) {
        szDigit = num.substring(i, i + 1);
        digit = parseInt(szDigit);

        if (digit != 0) {
            if (bPos != 0 && sPos == 0) {
                if (is_start == true)
                    szHan += delimiter;
                szHan += fourFour[bPos]; /*  만, 억 */
                appendFF = false;
            }
            if (bPos != 0 && appendFF == true) {
                if (is_start == true)
                    szHan += delimiter;
                szHan += fourFour[bPos]; /*  만, 억 */
                appendFF = false;
            }

            if (sPos != 0)
                szHan += fourDigit[sPos]; /*  십, 백, 천 */
            szHan += hanNumber[digit]; /*  일, 이, 삼 */
            is_start = true;

        } else if (sPos == 0 && bPos != 0)
            appendFF = true;
        sPos++;
        if (sPos % 4 == 0) {
            sPos = 0;
            bPos++;
            if (bPos >= 4) {
                return "(범위초과)";
            }
        }
    }

    var result = '';
    if (is_start == false) {
        result = endZValue;
    } else {
        for (i = szHan.length - 1; i >= 0; i--) {
            result += szHan.substring(i, i + 1);
        }
        result += endValue;
    }

    var targetEle = document.getElementById(targetId);
    if(targetEle.tagName == "input") {
        targetEle.value = result;
    } else {
        targetEle.innerText = result;
    }

    return result;
}
/**********************
* function hasOnlyNumDN 입력시 숫자만 받음
*  ex : hasOnlyNumDN()
* @param :
* @return : 없음
* @see
************************/
function hasOnlyNumDN() {
  var re = /([^0-9])/;
  return CKKeyPro_Check(event.srcElement, re);

  var code = event.keyCode ? event.keyCode :
          event.which ? event.which : event.charCode;
  if (code!=13) {
    event.returnValue =
      ( code >= 48 && code <= 57)     /*  Number */
      || code == 8                    /*  Backspace */
      || code == 9                    /*  Tab */
      || code == 46                   /*  Delete */
      || ( code >= 37 && code <= 40)  /*  Cursor Key */
      || ( code >= 96 && code <= 105) /*  Key Pad */
  }
}



/**********************
 * hasOnlyNumber()
 *     Spec        : 문자 방지(한글 제외)
 *     Argument    :
 *    Return       : boolean
 *    Example      : ONKEYPRESS="hasOnlyNumber();"
 ***********************/
function hasOnlyNumber(Obj){
    var re = /([^0-9])/;
    return CKKeyPro_Check(event.srcElement, re);

    var keyCode = event.keyCode ? event.keyCode :
            event.which ? event.which : event.charCode;
    if(keyCode > 222) return false;        /*  Select Box외 기타 이벤트 방지 */
    if (keyCode != 13) {
        if( !((keyCode>45 && keyCode<58) || (keyCode>95 && keyCode<106) || (keyCode>7 && keyCode<10) || (keyCode>36 && keyCode<41)) ){

            i18nExtAlert(hasOnlyNumber_str);
            if(Obj == null) {
                    event.returnValue = false;
                } else {
                    Obj.value = "";
                Obj.focus();
                }
        }
    }
}

/**********************
 * e2eBlockKey()
 *     Spec        : e2e Ctrl + Backspace, Alt + Backspace를 막음.
 *     Argument    :
 *    Return       :
 *    Example      :
 **********************/
function e2eBlockKey() {
    if( (event.ctrlKey == true && event.keyCode==8) || (event.altKey == true && event.keyCode==8) )
    {
        event.keyCode=0;
        event.returnValue=false;
        return false;
    } else {
        return;
    }
}


/**********************
 * e2e_clear
 *     Spec        : e2e CK버퍼 클리어
 *     Argument    :
 *    Return       :
 *    Example      : e2e_clear(form1);
 **********************/
function e2e_clear(form){
    for (i = 0; i < form.elements.length; i++) {
        if ((form.elements[i].type == "text") || (form.elements[i].type == "password") ) {
            if(form.elements[i].enc=='on' && (getE2eValue(form,form.elements[i]) != '') && !(navigator.userAgent.indexOf("Win64")>=0) ) {
                CKKeyPro_Clear(form.name,form.elements[i].name);
            }
        }
    }
}
/**********************
 * e2e_amt_chk
 *     Spec        : e2e 금액체크
 *     Argument    :
 *    Return       :
 *    Example      : e2e_amt_chk(f, document.getElementById('am1'));
 * (참고)블레이드 PC에서 금액란에 입력이 안들어가서 return false에서 return true로 바꿈
 **********************/
function e2e_amt_chk(form_name,elements) {

    if(elements.value.length==17)
    {
        i18nExtAlert(e2e_amt_chk_str);
        elements.value='';
        CKKeyPro_Clear(form_name,elements.name);
    };
    return true;
}
/**********************
 * e2e_acct_chk
 *     Spec        : e2e 계좌체크
 *     Argument    :
 *    Return       :
 *    Example      : e2e_amt_chk(f, document.getElementById('acct1'));
 **********************/
/*
function e2e_acct_chk(form,elements) {
    if(form.MG_YBKCODE.value=='05' && elements.value.length>15) {
        i18nExtAlert(e2e_acct_chk_str);
        elements.value='';
        CKKeyPro_Clear(form.name,elements.name);
        elements.focus();
    }
    return false;
}
*/
function e2e_acct_chk(form, elements, newBankCode) {
    if(newBankCode != undefined) {
        if(newBankCode == '005' && elements.value.length > 15) {
            i18nExtAlert(e2e_acct_chk_str);
            elements.value = '';
            CKKeyPro_Clear(form.name, elements.name);
            elements.focus();
        }
    }
    return false;
}


/**********************
 * CKKeyPro_Check
 *     Spec        : e2e 값 체크
 *     Argument    :
 *    Return       :
 *    Example      : CKKeyPro_Check(document.getElementById('elm'), 'aa');
 **********************/
function CKKeyPro_Check(objInput, re)
{
    var numPattern = objInput.value.match(re);
    var numValue = "";
    if(numPattern != null)
    {
        for(i = 0; i < objInput.value.length; i++)
        {
            var ch = objInput.value.charAt(i);
            if(re.test(ch) == false)
            {
                numValue += ch;
            }
        }
        objInput.value=numValue;
        return false; /* paste 검사 */
    }
    else
        return true;
}
/**********************
* function getCheckedValue 체크박스 체크된 값 가져오는 함수
*  ex : getCheckedValue(select)
* @param :엘리먼트 네임
* @return : 엘리먼트 값
* @see
************************/
function getCheckedValue(elementsName) {
    var ele = document.getElementsByName(elementsName);
    var val;

    for(i=0; i<ele.length; i++)
    {
        if(ele[i].checked == true) {
            val = ele[i].value;
            break;
        }
    }
    return val;
}
/**********************
* function getCheckedIndex 체크된 체크박스의 인덱스 값을 반환함
*  ex : getCheckedIndex(select)
* @param :엘리먼트 네임
* @return : 엘리먼트 값
* @see
************************/
function getCheckedIndex(elementsName) {
    var ele = document.getElementsByName(elementsName);
    var val;

    for(i=0; i<ele.length; i++)
    {
        if(ele[i].checked == true) {
            val = i;
            break;
        }
    }
    return val;
}

/**********************

* 쿠키값을 가져옴

* @param : 가져올 값의 이름
* @return : 반환된 쿠키값
* @see
************************/
function getCookie( name )
{
    var nameOfCookie = name + "=";
    var x = 0;
    while ( x <= document.cookie.length )
    {
        var y = (x+nameOfCookie.length);
        if ( document.cookie.substring( x, y ) == nameOfCookie )
        {
            if ( (endOfCookie=document.cookie.indexOf( ";", y )) == -1 )
                endOfCookie = document.cookie.length;
            return unescape( document.cookie.substring( y, endOfCookie ) );
        }
        x = document.cookie.indexOf( " ", x ) + 1;
        if ( x == 0 )
            break;
    }
    return "";
}

/**********************
* 치환값을 변경함
* @param : 원본 값
* @param : 변경대상값
* @param : 치환값
* @return : 치환된 값이 적용된 스트링
* @see
************************/
function replaceAll(srcStr, targetStr, replaceStr)
{

    var newPattern = new RegExp(targetStr, "g");

    return srcStr.replace(newPattern, replaceStr);
}
/**********************
* 브라우저가 익스플로러가 아닌경우에 이전페이지로 돌아감
* @param :
* @return :
* @see
************************/
function goReturnPage()
{
    var NaviInfo = getNavigatorInfoStr();

    if(NaviInfo.indexOf("Explorer") < 0)
    {
        history.back();
    }
}

/**********************
* 년월일자에 '-'를 넣어주는 함수
* @param : yyyymmdd
* @return : yyyy-mm-dd
* @see
************************/
function inputDashDate(dateValue)
{
    if(dateValue != undefined && dateValue.length == 8)
    {
        return (dateValue.substring(0,4)+ "-" + dateValue.substring(4,6)+ "-" + dateValue.substring(6,8));
    }
    else
        return dateValue;
}
/**********************
* 도움말 레이어용 관련 함수
* @param : elemId
* @return :
* @see
************************/
function showHidn(elemId) {
    var divs = document.getElementsByTagName("div");
    for(var i =0; divs.length > i; i++) {
        if(divs[i].className.indexOf("show_hide") != -1) {
            if(divs[i].getAttribute("id") == elemId) {
                divs[i].style.display = "block";
            } else {
                divs[i].style.display = "none";
            }
        }
    }
}
/**********************
* 도움말 레이어용 탭 온오프 함수
* @param : tabElem, meElem
* @return :
* @see
************************/
function tabOnOff(tabElem, meElem) {
    var links = tabElem.getElementsByTagName("a");
    for(var i = 0; links.length > i; i++) {
        if(links[i].getAttribute("href").indexOf(meElem) != -1) {
            /* links[i].firstChild.setAttribute(links[i].firstChild.getAttribute("src").replace("_off","_on")); */
            var tmpsrc = links[i].firstChild.getAttribute("src").replace("_off","_on");
            links[i].firstChild.setAttribute("src",tmpsrc);
            links[i].onmouseover ="";
            links[i].onmouseout = "";
        } else {
            var tmpsrc = links[i].firstChild.getAttribute("src").replace("_on","_off");
            links[i].firstChild.setAttribute("src",tmpsrc);
            links[i].onmouseover = function() {
                tabimgOver(this);
            };
            links[i].onmouseout = function() {
                tabimgOut(this);
            };
        }
    }
}
/**********************
* 도움말 레이어용 탭 이미지 오버함수
* @param : obj
* @return :
* @see
************************/
function tabimgOver(obj) {
    var obj = obj.firstChild;
    obj.setAttribute("src",obj.getAttribute("src").replace("_off","_on"));
}
/**********************
* 도움말 레이어용 탭이미지 아웃함수
* @param : obj
* @return :
* @see
************************/
function tabimgOut(obj) {
    var obj = obj.firstChild;
    obj.setAttribute("src",obj.getAttribute("src").replace("_on","_off"));
}
/**********************
* 도움말 레이어용 콘텐츠 리사이즈 함수
* @param : popId
* @return :
* @see
************************/
function ctResize(popId) {
    var contHeight = 431;
    var popElem = document.getElementById(popId);
    var divsions = popElem.getElementsByTagName("div");
    var h1Elem = popElem.getElementsByTagName("h1");
    for(var i=0; i < divsions.length; i++) {
    if(divsions[i].className != "x-window-body") continue;
    var xWinBody = divsions[i];
    var contElem = myNextSibling(xWinBody);
        if(contElem.clientHeight > xWinBody.clientHeight) {
           contElem.style.width = (parseInt(xWinBody.style.width) - 32) +"px";
           h1Elem[0].style.marginRight = "15px"
        } else {
          contElem.style.width = (parseInt(xWinBody.style.width) - 17) +"px";
          h1Elem[0].style.marginRight = "0"
        }
    }
}
